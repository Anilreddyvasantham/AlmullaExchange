<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="stylesheet" type="text/css" href="../css/dataTable.css" />
	<script type="text/javascript" language="javascript">
		document.onkeydown = function(e) {

			//Enter button pressed 
			if (e.keyCode === 13) {
				return false;
			}
		};
		history.pushState(null, null, 'FXDetailInfoBeanApprove.xhtml');
		window.addEventListener('popstate', function(event) {
			history.pushState(null, null, 'FXDetailInfoBeanApprove.xhtml');
		});
	</script>
</h:head>
<h:body>

	<f:view>
		<ui:include src="#{facesBean.header}"></ui:include>
		<ui:include src="#{facesBean.menu}"></ui:include>

		<h:form id="form">
			<p:growl id="msg" />

			<table align="left" width="100%" style="height: 100%;">
				<tr>
					<td align="left" valign="top" style="height: 100%;"><ui:include
							src="#{facesBean.fxdeal_menu}"></ui:include></td>

					<td class="rightColumn" valign="top"><h:panelGroup
							layout="block" class="container">
							<h:panelGroup layout="block" class="main_div">
								<div class="menu_button">
									<img style="cursor: pointer; position: relative; left: 15px;"
										id="HideHandle" name="HideHandle"
										src="../images/toggle_plus.png" alt=""
										onclick='hideLeftCol("leftCol");closeMenus();' />
								</div>

								<p:confirmDialog id="notabletoApprove"
									widgetVar="notabletoApprove" width="400" height="20"
									resizable="false" style="background-color: white !important;"
									header="#{msg['lbl.warningDailog']}" styleClass="warning"
									showEffect="clip" hideEffect="clip" closeOnEscape="true"
									closable="true" message="#{msg['lbl.sameUserNotApproved']}">
								</p:confirmDialog>

								<p:confirmDialog id="checkBoxVerify" widgetVar="checkBoxVerify"
									width="400" height="20" resizable="false"
									style="background-color: white !important;"
									header="#{msg['lbl.warningDailog']}" styleClass="warning"
									showEffect="clip" hideEffect="clip" closeOnEscape="true"
									closable="true"
									message="#{msg['lbl.plsvrifycheckboxdtailandsales']}">
								</p:confirmDialog>

								<p:dialog id="saveerror" widgetVar="saveerror" width="400"
									height="70" resizable="false"
									style="background-color: white !important;"
									styleClass="warning" header="Error" closable="false"
									showEffect="clip" hideEffect="clip">
									<p:outputLabel value="Error While Saving FX Deal Bank"
										style="text-align: center; font-size:16px !important;" />
									<br />
									<p:commandButton value="Exit"
										actionListener="#{fXDetailInfoBeanApprove.clearCache}"
										process="@this" update="mainPanel"
										style="margin-left: 150px !important;" />
								</p:dialog>

								<p:confirmDialog id="docapprvdone" widgetVar="docapprvdone"
									width="300" height="20" resizable="false"
									style="background-color: white !important;"
									header="#{mag['lbl.warningDailog']}" styleClass="warning"
									showEffect="clip" hideEffect="clip" closeOnEscape="true"
									closable="true"
									message="#{msg['lbl.documentNoAlreadyApproved']}">
								</p:confirmDialog>

								<p:dialog id="complete" widgetVar="complete" width="500"
									height="70" resizable="false"
									style="background-color: white !important;"
									styleClass="warning" header="Error" closable="false"
									showEffect="clip" hideEffect="clip">
									<p:outputLabel
										value="Data is Successfully Saved with reference number #{fXDetailInfoBeanApprove.docSerialIdNumberForSave}"
										style="text-align: center; font-size:16px !important;" />
									<br />
									<p:commandButton value="ok"
										actionListener="#{fXDetailInfoBeanApprove.clearCache}"
										style="margin-left: 180px !important;" />
								</p:dialog>

								<p:confirmDialog id="greatersales" widgetVar="greatersales"
									width="600" height="20" resizable="false"
									style="background-color: white !important;"
									header="Warning Dailog" styleClass="warning" showEffect="clip"
									hideEffect="clip" closeOnEscape="true" closable="true"
									message="Sale amount #{fXDetailInfoBeanApprove.saleAmount} should not be Greater than Bank Balance #{fXDetailInfoBeanApprove.saleBalance}">
								</p:confirmDialog>

								<p:confirmDialog id="bankBalerror" widgetVar="bankBalerror"
									width="600" height="20" resizable="false"
									style="background-color: white !important;"
									header="Warning Dailog" styleClass="warning" showEffect="clip"
									hideEffect="clip" closeOnEscape="true" closable="true"
									message="This Sale Bank have Insufficient Bank Balance, Cannot Able to do Deal">
								</p:confirmDialog>

								<p:confirmDialog id="approveException"
									widgetVar="approveException" resizable="false"
									style="background-color: white !important;"
									header="Warning Dailog" styleClass="warning" showEffect="clip"
									hideEffect="clip" closeOnEscape="true" closable="true"
									message="#{fXDetailInfoBeanApprove.exceptionMessage}">
								</p:confirmDialog>

								<h1>
									<h:outputText value="#{msg['lbl.fxdealwithBankApprovel']}" />
								</h1>

								<p:panel styleClass="shadow" id="mainPanel"
									style="background-color:#FFF !important; ">
									<p:panel id="subPanel"
										rendered="#{fXDetailInfoBeanApprove.renderMainPanel}">

										<h2>
											<h:outputText value="#{msg['lbl.fxdealwithBankApprovel']}" />
										</h2>

										<p:confirmDialog id="csp" widgetVar="csp" showHeader="false"
											resizable="false" header="Warning Message"
											styleClass="warning"
											style=" border:2px solid #F33535 !important; padding:0px !important;  color:red; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
											showEffect="explode" hideEffect="explode"
											message="#{fXDetailInfoBeanApprove.errorMsg}">
										</p:confirmDialog>

										<p:confirmDialog id="nullPoiterId" widgetVar="nullPoiterId"
											resizable="false" style="background-color: white !important;"
											header="#{msg['lbl.warningDailog']}" styleClass="warning"
											showEffect="clip" hideEffect="clip" closeOnEscape="true"
											closable="true"
											message="#{fXDetailInfoBeanApprove.errorMsg} - #{msg['lbl.nullPonterExcepetion']}">
										</p:confirmDialog>

										<p:dialog modal="true" showHeader="false"
											widgetVar="statusDialog" id="statusDialog" width="300"
											height="60" resizable="false" draggable="false"
											closable="false"
											style=" border: 2px green solid !important;background-color: #FFF !important;">
											<div
												style="margin-left: 15px !important; font-size: 18px !important; color: #459D45 !important;">
												<p:graphicImage value="../images/processImg.gif"
													style="float: left !important; margin-right: 24px !important; " />
												<p:outputLabel value="#{msg['lbl.pleaseWait']}"
													style="color: green !important; font-size: 20px !important; font-weight: bold; margin-top: 10px;" />
											</div>
										</p:dialog>

										<p:panel styleClass="panel_border">
											<p:panel styleClass="left_col">
												<p:panel styleClass="inner_left_col">
													<h:outputText value="#{msg['lbl.company']}" />
												</p:panel>
												<p:panel styleClass="inner_right_col">
													<p:inputText id="company"
														value="#{fXDetailInfoBeanApprove.lstCompany}"
														readonly="true" />
												</p:panel>
											</p:panel>
											<p:panel styleClass="left_col">
												<p:panel styleClass="inner_left_col">
													<h:outputText value="#{msg['lbl.documentdesc']}" />
												</p:panel>
												<p:panel styleClass="inner_right_col">
													<p:inputText value="#{fXDetailInfoBeanApprove.document}"
														readonly="true">
														<p:ajax />
													</p:inputText>
												</p:panel>
											</p:panel>

											<p:panel styleClass="left_col" id="dealYearValueID">
												<p:panel styleClass="inner_left_col">
													<h:outputText value="#{msg['lbl.dealreference']}" />
													<h:outputText value="*" style="color:red;font-weight:bold;" />
												</p:panel>
												<p:panel styleClass="inner_right_col">
													<p:panelGrid style="width:98%;">
														<p:row>
															<p:column
																style="width:45% !important; padding:0px 13px 0px 0px !important;">
																<!-- <p:inputText id="dealYearId"
																	value="#{fXDetailInfoBeanApprove.dealYear}"
																	readonly="true">
																	<p:ajax />
																</p:inputText> -->
																<p:selectOneMenu id="dealYearId" tabindex="1"
																	widgetVar="orderActionWidget" styleClass="dropdown"
																	value="#{fXDetailInfoBeanApprove.dealYear}"
																	filterMatchMode="contains" filter="true"
																	required="true"
																	requiredMessage="please Select Deal Year">
																	<f:selectItem itemLabel="#{msg['lbl.selectyear']}" />
																	<f:selectItems
																		value="#{fXDetailInfoBeanApprove.trnxYearList}"
																		var="c" itemLabel="#{c.financialYear}"
																		itemValue="#{c.financialYear}" />
																	<p:ajax event="change"
																		listener="#{fXDetailInfoBeanApprove.getDocumentNoDropDown}"
																		update="mainPanel,:form:purchaseSpecialPool"
																		onstart="statusDialog.show();"
																		onsuccess="statusDialog.hide();" />
																</p:selectOneMenu>
															</p:column>
															<p:column
																style="width:50% !important; padding:0px !important;">
																<p:message for="editableDocumentSerialId" display="text"
																	id="msgeditableDocumentSerialId" />
																<p:selectOneMenu id="editableDocumentSerialId"
																	value="#{fXDetailInfoBeanApprove.editaleRefId}"
																	filter="true" filterMatchMode="startsWith"
																	required="true"
																	requiredMessage="Please Select Document Number">
																	<f:selectItem itemLabel="#{msg['lbl.select']}"
																		itemValue="" />
																	<f:selectItems
																		value="#{fXDetailInfoBeanApprove.lstofUnApproved}"
																		var="c" itemLabel="#{c.treasuryDocumentNumber}"
																		itemValue="#{c.treasuryDocumentNumber}" />
																	<p:ajax event="change"
																		listener="#{fXDetailInfoBeanApprove.fetchingAllRecordsFromDB}"
																		update="mainPanel,:form:purchaseSpecialPool"
																		onstart="statusDialog.show();"
																		onsuccess="statusDialog.hide();" />
																</p:selectOneMenu>
															</p:column>
														</p:row>
													</p:panelGrid>
												</p:panel>
											</p:panel>

											<p:panel styleClass="left_col">
												<p:panel styleClass="inner_left_col">
													<h:outputText value="#{msg['lbl.dealdate']}" />
													<h:outputText value="*" style="color:red;font-weight:bold;" />
												</p:panel>
												<p:panel styleClass="inner_right_col">
													<p:inputText value="#{fXDetailInfoBeanApprove.dealDateStr}"
														readonly="true" />
												</p:panel>
											</p:panel>

											<div class="clearfix"></div>

											<p:panel styleClass="left_col">
												<p:panel styleClass="inner_left_col">
													<h:outputText value="#{msg['lbl.dealwith']}" />
													<h:outputText value="*" style="color:red;font-weight:bold;" />
												</p:panel>
												<p:panel styleClass="inner_right_col">
													<p:message for="dealid" display="text" id="msgdealid" />
													<p:selectOneMenu id="dealid"
														value="#{fXDetailInfoBeanApprove.dealWith}"
														disabled="true" filterMatchMode="startsWith"
														required="true" requiredMessage="Please Select Deal With"
														tabindex="1">
														<f:selectItem itemLabel="#{msg['lbl.fxdeal']}"
															itemValue="" />
														<f:selectItems
															value="#{fXDetailInfoBeanApprove.dealListBank}" var="c"
															itemLabel="#{c.bankCode}-#{c.bankFullName}"
															itemValue="#{c.bankId}" />
														<p:ajax update="msgdealid" />
													</p:selectOneMenu>
												</p:panel>
											</p:panel>

											<p:panel styleClass="left_col">
												<p:panel styleClass="inner_left_col">
													<h:outputText value="#{msg['lbl.contact']}" />
													<h:outputText value="*" style="color:red;font-weight:bold;" />
												</p:panel>
												<p:panel styleClass="inner_right_col">
													<p:message for="contactid" display="text" id="msgcontactid" />
													<p:inputText id="contactid"
														value="#{fXDetailInfoBeanApprove.contact}" readonly="true">
														<p:ajax update="msgcontactid" />
													</p:inputText>
												</p:panel>
											</p:panel>

											<div class="clearfix"></div>

											<p:panel styleClass="left_col">
												<p:panel styleClass="inner_left_col">
													<h:outputText value="#{msg['lbl.concludedby']}" />
													<h:outputText value="*" style="color:red;font-weight:bold;" />
												</p:panel>
												<p:panel styleClass="inner_right_col">
													<p:message for="concludedid" display="text"
														id="msgconcludedid" />
													<p:inputText id="concludedid"
														value="#{fXDetailInfoBeanApprove.concludedBy}"
														readonly="true">
														<p:ajax update="msgconcludedid" />
													</p:inputText>
												</p:panel>
											</p:panel>

											<p:panel styleClass="left_col">
												<p:panel styleClass="inner_left_col">
													<h:outputText value="#{msg['lbl.reutersref']}" />
													<h:outputText value="*" style="color:red;font-weight:bold;" />
												</p:panel>
												<p:panel styleClass="inner_right_col">
													<p:message for="reuterid" display="text" id="msgreuterid" />
													<p:inputText id="reuterid"
														value="#{fXDetailInfoBeanApprove.reuterReference}"
														readonly="true">
														<p:ajax update="msgreuterid" />
													</p:inputText>
												</p:panel>
											</p:panel>

											<p:panel styleClass="left_col">
												<p:panel styleClass="inner_left_col">
													<h:outputText value="#{msg['lbl.remark']}" />
													<h:outputText value="*" style="color:red;font-weight:bold;" />
												</p:panel>
												<p:panel styleClass="inner_right_col">
													<p:message for="remarkid" display="text" id="msgremarkid" />
													<p:inputTextarea id="remarkid"
														style="height:70px !important;" maxlength="250"
														value="#{fXDetailInfoBeanApprove.remark}" readonly="true">
														<p:ajax update="msgremarkid" />
													</p:inputTextarea>
												</p:panel>
											</p:panel>

											<div class="clearfix"></div>
											<p:spacer height="10px" />
											<div class="clearfix"></div>
											<h2>
												<h:outputText value="#{msg['lbl.purchasedetails']}" />
											</h2>

											<p:panel styleClass="panel_border" id="purchageDetailsPanel">

												<p:panel styleClass="left_col" id="pnlBank">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.bank']}" />
														<h:outputText value="*" style="color:red;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="bankId" display="text" id="msgbankId" />
														<p:selectOneMenu id="bankId"
															styleClass="#{fXDetailInfoBeanApprove.blue ? 'blue ' : 'none'}"
															value="#{fXDetailInfoBeanApprove.purchaseBank}"
															disabled="true">
															<f:selectItem itemLabel="#{msg['lbl.selectbank']}"
																itemValue="" />
															<f:selectItems
																value="#{fXDetailInfoBeanApprove.lstAllBankApplicabity}"
																var="c"
																itemLabel="#{c.bankMaster.bankCode} -  #{c.bankMaster.bankFullName}"
																itemValue="#{c.bankMaster.bankId}" />
															<p:ajax for="bankId" event="change"
																listener="#{fXDetailInfoBeanApprove.populateCurrencyBasedOnBankForPurchase}"
																update="mainPanel,exchangerateid,multiplicationdivisionid"
																onclick="statusDialog.show();"
																onsuccess="statusDialog.hide();" />
														</p:selectOneMenu>
													</p:panel>
												</p:panel>

												<!-- <p:panel styleClass="left_col" id="pnlCurrency">
										<p:panel styleClass="inner_left_col">
											<h:outputText value="#{msg['lbl.currency']}" />
											<h:outputText value="*" style="color:red;" />
										</p:panel>
										<p:panel styleClass="inner_right_col">
											<p:message for="currencyId" display="text" id="msgcurrencyId"/>
											<p:selectOneMenu id="currencyId"
												value="#{fXDetailInfoBeanApprove.purchaseCurrency}" disabled="true"
												filterMatchMode="startsWith" required="true"
												requiredMessage="Please Select Currency" label="Currency">
												<f:selectItem itemLabel="#{msg['lbl.selectcurrency']}"
													itemValue="" />
												<f:selectItems
													value="#{fXDetailInfoBeanApprove.bankCountryCurrencyList}"
													var="c" itemLabel="#{c.fsCurrencyMaster.currencyName}"
													itemValue="#{c.fsCurrencyMaster.currencyId}" />
													<p:ajax for="currencyId" event="change"
													listener="#{fXDetailInfoBeanApprove.purchaseStandardInstruction}" update="msgcurrencyId,pnlAccountNo,countersel,standardId,:form:accordid:purchaseSpecialPool,:form:commandlink,:form:checkboxid"/>
											</p:selectOneMenu>
										</p:panel>
									</p:panel> -->

												<p:panel styleClass="left_col" id="pnlCurrency">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.currency']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:row>
															<p:column
																style="width:100%; text-align:left;padding:0px !important;"
																rendered="#{fXDetailInfoBeanApprove.booRenderBankId}">
																<p:message for="currencyId" display="text" />
																<p:selectOneMenu id="currencyId"
																	styleClass="#{fXDetailInfoBeanApprove.blue?'blue':'none'}"
																	value="#{fXDetailInfoBeanApprove.purchaseCurrency}"
																	disabled="true">
																	<f:selectItem itemLabel="#{msg['lbl.selectcurrency']}"
																		itemValue="" />
																	<f:selectItems
																		value="#{fXDetailInfoBeanApprove.bankCountryCurrencyList}"
																		var="c" itemLabel="#{c.fsCurrencyMaster.currencyName}"
																		itemValue="#{c.fsCurrencyMaster.currencyId}" />
																	<p:ajax for="currencyId" event="change"
																		listener="#{fXDetailInfoBeanApprove.purchaseStandardInstruction}"
																		update="salesLocalAmountId,totallocalamount,localexchangerate,exchangerateid,multiplicationdivisionid,pnlAccountNo,standardId,purchageDetailsPanel,saleDetailsPanel"
																		onclick="statusDialog.show();"
																		onsuccess="statusDialog.hide();" />
																</p:selectOneMenu>
															</p:column>
															<p:column
																style="width:100%; text-align:left;padding:0px !important;"
																rendered="#{fXDetailInfoBeanApprove.booRenderBankIdForUpdate}">
																<p:inputText
																	value="#{fXDetailInfoBeanApprove.purchaseCurrencyName}"
																	readonly="true" tabindex="7">
																	<p:ajax
																		update="salesLocalAmountId,totallocalamount,localexchangerate,exchangerateid,multiplicationdivisionid,pnlAccountNo,standardId,purchageDetailsPanel,saleDetailsPanel,calid" />
																</p:inputText>
															</p:column>
														</p:row>
													</p:panel>
												</p:panel>
												<div class="clearfix"></div>

												<p:panel styleClass="left_col" id="valueDateId">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.fxvaliate']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="calid" display="text" id="msgcalid" />
														<p:inputText id="calid"
															value="#{fXDetailInfoBeanApprove.valueDateStr}"
															readonly="true" />

													</p:panel>
												</p:panel>

												<p:panel styleClass="left_col" id="pnlAccountNo">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.accountnumber']}" />
														<h:outputText value="*" style="color:red;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="singleaccountnumber" display="text"
															id="msgsingleaccountnumber" />
														<p:message for="account" display="text" id="msgaccount" />
														<p:panelGrid id="Checkpanelonselect" style="width:100%;">
															<p:row>
																<p:column
																	style="width:100%; text-align:left;padding:0px !important;"
																	rendered="#{fXDetailInfoBeanApprove.booSelectbankPAcc}">
																	<p:inputText id="singleaccountnumber"
																		value="#{fXDetailInfoBeanApprove.singlacc}"
																		readonly="true" required="true"
																		requiredMessage="Account Number Can't be Empty"
																		tabindex="8">
																		<p:ajax update="msgsingleaccountnumber" />
																	</p:inputText>
																</p:column>

																<p:column
																	style="width:100%; text-align:left;padding:0px !important;"
																	rendered="#{fXDetailInfoBeanApprove.multiselectPAcc}">

																	<p:selectOneMenu id="account"
																		value="#{fXDetailInfoBeanApprove.purchaseAccountNumber}"
																		disabled="true" filterMatchMode="startsWith"
																		required="true"
																		requiredMessage="Please Select Account Number"
																		tabindex="8">
																		<f:selectItem
																			itemLabel="#{msg['lbl.selectaccountnumber']}"
																			itemValue="" />
																		<f:selectItems
																			value="#{fXDetailInfoBeanApprove.accountNumberList}"
																			var="c" itemLabel="#{c.bankAcctNo}"
																			itemValue="#{c.bankAcctDetId}" />
																		<p:ajax update="msgaccount" event="change"
																			listener="#{fXDetailInfoBeanApprove.fetchFaAccNum}"
																			onclick="statusDialog.show();"
																			onsuccess="statusDialog.hide();" />
																	</p:selectOneMenu>
																</p:column>
															</p:row>
														</p:panelGrid>
													</p:panel>
												</p:panel>
												<div class="clearfix"></div>


												<p:panel styleClass="left_col">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.multidiv']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="multiplicationdivisionid" display="text"
															id="msgmultiplicationdivisionid" />
														<p:selectOneMenu id="multiplicationdivisionid"
															value="#{fXDetailInfoBeanApprove.purchaseMultipleDivision}"
															disabled="true">
															<f:selectItem itemLabel="#{msg['lbl.mulordiv']}" />
															<f:selectItem itemLabel="Multiplication" itemValue="1" />
															<f:selectItem itemLabel="Division" itemValue="2" />
															<p:ajax event="change"
																listener="#{fXDetailInfoBeanApprove.resetExchangeRate}"
																update="salesLocalAmountId,totallocalamount,localexchangerate,msgmultiplicationdivisionid,exchangerateid,:form:purchaseSpecialPool,localamountid,totalFc,saleAmountId,fcSaleAmountPanel"
																onclick="statusDialog.show();"
																onsuccess="statusDialog.hide();" />
														</p:selectOneMenu>
													</p:panel>
												</p:panel>

												<p:panel styleClass="left_col">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.exchangerate']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="exchangerateid" display="text"
															style="text-shadow:none !important;"
															id="msgexchangerateid" />
														<p:inputText id="exchangerateid"
															value="#{fXDetailInfoBeanApprove.purchaseExchangeRate}"
															readonly="true">
														</p:inputText>
													</p:panel>
												</p:panel>
												<div class="clearfix"></div>

												<!-- 			<p:panel styleClass="left_col" id="countersel">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.instructionnumber']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="counterid" display="text" id="msgcounterid"/>
											<p:row>
												<p:column style="width:100%; text-align:left;padding:0px !important;"  rendered="#{fXDetailInfoBeanApprove.booRenderPurchaseInstrunction}">
											    <p:selectOneMenu id="counterid" value="#{fXDetailInfoBeanApprove.purchaseInstrunction}" disabled="true"	filterMatchMode="startsWith" required="true" requiredMessage="Please Select Standard Instruction Number" label="Standard Instruction Number" tabindex="11">
											       <f:selectItem itemLabel="#{msg['lbl.instructionNo']}" itemValue="" />
											       <f:selectItems value="#{fXDetailInfoBeanApprove.pstandardInstrnforPurchase}" var="c" itemLabel="#{c.standardInsructionNumber} - #{c.instructionDescription}" itemValue="#{c.standardInsructionNumber}" />
											       <p:ajax for="counterid" event="change" listener="#{fXDetailInfoBeanApprove.standardInstrunctionDescription}" update="msgcounterid,standardId,checkboxid" onclick="this.disabled=true;statusDialog.show();"  onsuccess="statusDialog.hide();" />
											    </p:selectOneMenu>
											   </p:column>
											<p:column style="width:100%; text-align:left;padding:0px !important;"  rendered="#{fXDetailInfoBeanApprove.booRenderPurchaseInstrunctionForUpdate}">
            											<p:inputText id="counterselid" value="#{fXDetailInfoBeanApprove.purchaseInstrunctionForUpdate}" readonly="true" tabindex="11"/>
											</p:column>
									        </p:row>	
											</p:panel>
										</p:panel> -->

												<p:panel styleClass="left_col" id="pnlstandard">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.standardinstruction']}" />
														<h:outputText value="*" style="color:red;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:inputText id="standardId"
															value="#{fXDetailInfoBeanApprove.purchaseInstructionDesc}"
															readonly="true" label="Standard Instruction Description">
														</p:inputText>
													</p:panel>
												</p:panel>
												<div class="clearfix"></div>


												<div class="clearfix"></div>

												<p:panel styleClass="left_col"
													style="padding-left:10px !important;">
													<h:outputText value="#{msg['lbl.checkno']}"
														style="color:#ff5400 !important; font-size:13px !important; font-weight:bold;" />
													<p:spacer width="5px" />
													<p:selectBooleanCheckbox styleClass="checkdis"
														id="checkboxid"
														value="#{fXDetailInfoBeanApprove.purchaseCheckbox}"
														disabled="#{fXDetailInfoBeanApprove.purchaseCheckboxDisable}">
														<p:ajax event="change"
															listener="#{fXDetailInfoBeanApprove.getDataTableForPurchaseDetails}"
															update="puchasedetails,checkboxid"
															onstart="statusDialog.show();"
															onsuccess="statusDialog.hide();" />
													</p:selectBooleanCheckbox>
												</p:panel>

												<p:dialog id="puchasedetails" widgetVar="puchasedetails"
													width="650" resizable="false"
													style="background-color: white !important;"
													styleClass="info" header="Purchase Details"
													showHeader="true" showEffect="clip" hideEffect="clip"
													closeOnEscape="true" closable="true" modal="true">

													<p:dataTable styleClass="mydatatableclass"
														value="#{fXDetailInfoBeanApprove.cstandardInstrnDetailsPurchase}"
														var="c">

														<p:column headerText="#{msg['lbl.slNo']}"
															style="width:30px;">
															<p:outputLabel value="#{c.lineNumber}"
																style="text-align: center !important;" />
														</p:column>

														<p:column headerText="#{msg['lbl.instructions']}">
															<p:outputLabel value="#{c.lineDescription}"
																style="text-align: center !important;" />
														</p:column>

													</p:dataTable>

													<div class="clearfix"></div>

													<h:panelGroup layout="block" styleClass="shadow_button">
														<p:commandButton value="Verified"
															oncomplete="puchasedetails.hide()" />
													</h:panelGroup>

													<div class="clearfix"></div>

												</p:dialog>

												<!-- <h:panelGroup id="marqueeid" rendered="#{fXDetailInfoBeanApprove.splCustMsg}">
											<h:outputLabel style="color:red">
														<f:verbatim>
															<marquee behavior="alternate"> CHECK SPECIAL CUSTOMER AVALIABLE HERE  </marquee>
														</f:verbatim>
											</h:outputLabel>
										</h:panelGroup> -->

												<div class="clearfix"></div>
												<!-- <p:spacer height="20px"/> -->
												<div class="clearfix"></div>
												<!-- <p:accordionPanel activeIndex="" styleClass="inner_accardion" id="accordid">
										<p:tab title="#{msg['lbl.purchasereqforspldeal']}" id="tbid" titletip="Click here to View Special Pool Details">
										<p:dataTable id="purchaseSpecialPool" value="#{fXDetailInfoBeanApprove.purchaseReqSplPoolDataTableList}" var="c"
										editable="true" editMode="cell" cellpadding="0" cellspacing="0" border="1" rowIndexVar="rowIndex" emptyMessage="#{msg['lbl.norecordfound']}">

										
										<p:column headerText="#{msg['lbl.slNo']}">
										    <h:outputText value="#{rowIndex+1}" />
										</p:column>
												
												
										<p:column headerText="#{msg['lbl.custName']}">
											<p:outputLabel value="#{c.customerFirstName}"/>
										</p:column>
												
										<p:column headerText="#{msg['lbl.custspecialdeal']}">
											<p:outputLabel value="#{c.documentNumber} / #{c.splReqFinanceYear}"/>
										</p:column>
												
										<p:column headerText="#{msg['lbl.fcamount']}">
										    <p:outputLabel value="#{c.foreignCurrencyAmount}"/>
										</p:column>
	
										<p:column headerText="Sale Amount">
										    <p:outputLabel value="#{c.localAmount}"/>
										</p:column> 
												
										<p:column headerText="#{msg['lbl.select']}">
											<p:selectBooleanCheckbox value="#{c.selectRecord}" disabled="true">
												<p:ajax event="change" listener="#{fXDetailInfoBeanApprove.calFcAmountFromDataTable(c)}" update=":form:totalFc,:form:saleAmountId,:form:salesLocalAmountId,:form:totallocalamount,:form:localexchangerate,:form:localamountid,:form:greatersales,purchaseSpecialPool"/>
											</p:selectBooleanCheckbox>
										</p:column>
								
												
									    </p:dataTable>
        </p:tab>
        </p:accordionPanel>                  -->
												<p:dataTable id="purchaseSpecialPool"
													styleClass="mydatatableclass"
													value="#{fXDetailInfoBeanApprove.purchaseReqSplPoolDataTableList}"
													var="c" editable="true" editMode="cell" cellpadding="0"
													cellspacing="0" border="1" rowIndexVar="rowIndex"
													emptyMessage="#{msg['lbl.norecordfound']}">


													<p:column headerText="#{msg['lbl.slNo']}">
														<h:outputText value="#{rowIndex+1}" />
													</p:column>


													<p:column headerText="#{msg['lbl.custName']}">
														<p:outputLabel value="#{c.customerFirstName}" />
													</p:column>

													<p:column headerText="#{msg['lbl.custspecialdeal']}">
														<p:outputLabel
															value="#{c.documentNumber} / #{c.splReqFinanceYear}" />
													</p:column>

													<p:column headerText="#{msg['lbl.fcamount']}">
														<p:outputLabel value="#{c.foreignCurrencyAmount}" />
													</p:column>

													<p:column headerText="#{msg['lbl.fxsaleAmount']}">
														<p:outputLabel value="#{c.localAmount}" />
													</p:column>

													<p:column headerText="#{msg['lbl.select']}">
														<p:selectBooleanCheckbox value="#{c.selectRecord}"
															disabled="true">
															<p:ajax event="change"
																listener="#{fXDetailInfoBeanApprove.calFcAmountFromDataTable(c)}"
																update=":form:totalFc,:form:saleAmountId,:form:salesLocalAmountId,:form:totallocalamount,:form:localexchangerate,:form:localamountid,:form:greatersales,purchaseSpecialPool"
																onclick="statusDialog.show();"
																onsuccess="statusDialog.hide();" />
														</p:selectBooleanCheckbox>
													</p:column>


												</p:dataTable>

												<div class="clearfix"></div>
												<p:spacer height="10px" />
												<div class="clearfix"></div>
												<h2>
													<h:outputText
														value="#{msg['lbl.purchasereqdealcommonpool']}" />
												</h2>



												<p:panel styleClass="left_col">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.fcamount']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="fcamountid" display="text"
															id="msgfcamountid" />
														<p:inputText id="fcamountid"
															value="#{fXDetailInfoBeanApprove.fcAmount}"
															readonly="true">
															<p:ajax event="blur"
																listener="#{fXDetailInfoBeanApprove.DataTableForPurchaseCommonPool}"
																update="fcamountid,tfcpurchaseid,saleAmountId,localamountid,salesLocalAmountId,totallocalamount,localexchangerate,msgfcamountid,greatersales,fcSaleAmountPanel" />
															<f:validator
																validatorId="com.amg.exchange.validator.NegativeNotAllowedValidator" />
														</p:inputText>
													</p:panel>
												</p:panel>

												<p:panel styleClass="left_col" id="fcSaleAmountPanel">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.fxsaleAmount']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="fcSaleAmount" display="text" />
														<p:inputText id="fcSaleAmount"
															value="#{fXDetailInfoBeanApprove.fcSaleAmount}"
															readonly="true">
														</p:inputText>
													</p:panel>
												</p:panel>


												<p:panel id="eftCashTtPanel"
													rendered="#{fXDetailInfoBeanApprove.renderEftTtCashPanel}">

													<p:panel styleClass="left_col" id="ttAmount">
														<p:panel styleClass="inner_left_col">
															<h:outputText
																value="#{msg['lbl.pltt']} #{msg['lbl.rem.amt']}" />
														</p:panel>
														<p:panel styleClass="inner_right_col">
															<p:inputText value="#{fXDetailInfoBeanApprove.ttAmount}"
																readonly="true" />
														</p:panel>
													</p:panel>

													<div class="clearfix"></div>

													<p:panel styleClass="left_col" id="eftAmount">
														<p:panel styleClass="inner_left_col">
															<h:outputText
																value="#{msg['lbl.pleft']} #{msg['lbl.rem.amt']}" />
														</p:panel>
														<p:panel styleClass="inner_right_col">
															<p:inputText value="#{fXDetailInfoBeanApprove.eftAmount}"
																readonly="true" />
														</p:panel>
													</p:panel>

													<p:panel styleClass="left_col" id="cashAmount">
														<p:panel styleClass="inner_left_col">
															<h:outputText
																value="#{msg['lbl.plcsh']} #{msg['lbl.rem.amt']}" />
														</p:panel>
														<p:panel styleClass="inner_right_col">
															<p:inputText
																value="#{fXDetailInfoBeanApprove.cashAmount}"
																readonly="true" />
														</p:panel>
													</p:panel>
												</p:panel>



												<div class="clearfix"></div>
												<p:spacer height="10px" />
												<div class="clearfix"></div>
												<h2>
													<h:outputText value="#{msg['lbl.totalpurchasereq']}" />
												</h2>


												<p:panel styleClass="left_col">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.localexchangerate']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:inputText id="localexchangerate"
															value="#{fXDetailInfoBeanApprove.localExchangeRate}"
															readonly="true" required="true"
															requiredMessage="Please Enter Local Exchange Rate"
															label="Local Exchange Rate">
														</p:inputText>
													</p:panel>
												</p:panel>

												<p:panel styleClass="left_col" id="tfcpurchaseid">
													<p:panel styleClass="inner_left_col"
														style="padding-top:0px !important;">
														<h:outputText value="#{msg['lbl.fcpurchaseamount']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:inputText id="totalFc"
															value="#{fXDetailInfoBeanApprove.totalFcPurchaseAmount}"
															readonly="true" required="true"
															requiredMessage="Please Enter Total FC Purchase Amount"
															label="Total FC Purchase Amount" />
													</p:panel>
												</p:panel>

												<p:panel styleClass="left_col">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.totallocalamount']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:inputText id="totallocalamount"
															value="#{fXDetailInfoBeanApprove.totallocalAmount}"
															readonly="true" required="true"
															requiredMessage="Please Enter Total Local Amount"
															label="Total Local Amount">
														</p:inputText>
													</p:panel>
												</p:panel>

												<p:panel styleClass="left_col">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.totalsaleamount']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="localamountid" display="text" />
														<p:inputText id="localamountid"
															value="#{fXDetailInfoBeanApprove.fcLocalAmount}"
															readonly="true" required="true"
															requiredMessage="Please Enter Total Sale Amountt"
															label="Total Sale Amount">
														</p:inputText>
													</p:panel>
												</p:panel>

												<p:panel styleClass="left_col"
													rendered="#{fxdetailinfobean.booRenderDiffAmount}">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="Difference Amount" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="localamtdiffid" display="text" />
														<p:inputText id="localamtdiffid"
															value="#{fxdetailinfobean.differenceAmount}"
															readonly="true" />
													</p:panel>
												</p:panel>

												<div class="clearfix"></div>


											</p:panel>


											<div class="clearfix"></div>
											<p:spacer height="20px" />
											<div class="clearfix"></div>

											<h2>
												<h:outputText value="#{msg['lbl.salesdetails']}" />
											</h2>

											<p:panel styleClass="panel_border" id="saleDetailsPanel">

												<p:panel styleClass="left_col" id="salesBank">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.bank']}" />
														<h:outputText value="*" style="color:red;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="saleBankid" display="text"
															id="msgsaleBankid" />
														<p:selectOneMenu id="saleBankid"
															styleClass="#{fXDetailInfoBeanApprove.blue?'blue':'none'}"
															value="#{fXDetailInfoBeanApprove.saleBank}"
															disabled="true" filterMatchMode="startsWith"
															required="true" requiredMessage="Please Select Bank"
															label="Bank">
															<f:selectItem itemLabel="#{msg['lbl.selectbank']}"
																itemValue="" />
															<f:selectItems
																value="#{fXDetailInfoBeanApprove.lstAllBankApplicabity}"
																var="c"
																itemLabel="#{c.bankMaster.bankCode} - #{c.bankMaster.bankFullName}"
																itemValue="#{c.bankMaster.bankId}" />

														</p:selectOneMenu>
													</p:panel>
												</p:panel>

												<!-- <p:panel styleClass="left_col" id="salesCurrency">
										<p:panel styleClass="inner_left_col">
											<h:outputText value="#{msg['lbl.currency']}" />
											<h:outputText value="*" style="color:red;" />
										</p:panel>
										<p:panel styleClass="inner_right_col">
											<p:message for="saleCurrencyid" display="text" id="msgsaleCurrencyid"/>
											<p:selectOneMenu id="saleCurrencyid"
												value="#{fXDetailInfoBeanApprove.saleCurrency}" disabled="true"
												filterMatchMode="startsWith" required="true"
												requiredMessage="Please Select Currency" label="Currency">
												<f:selectItem itemLabel="#{msg['lbl.selectcurrency']}"
													itemValue="" />
												<f:selectItems
													value="#{fXDetailInfoBeanApprove.currencyListForSale}"
													var="c" itemLabel="#{c.currencyName}"
													itemValue="#{c.currencyId}" />
													<p:ajax for="saleCurrencyid" event="change"
													listener="#{fXDetailInfoBeanApprove.salesStandardInstruction}" update="msgsaleCurrencyid,accBal,Checksalpanelonselect,salePurchaseInstrunctionid,salePurchaseInstructionDescid,averagerateid,checkboxsale,checkboxsaleid"/>
											</p:selectOneMenu>
										</p:panel>
									</p:panel> -->

												<p:panel styleClass="left_col" id="salesCurrency">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.currency']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:row>
															<p:column
																style="width:100%; text-align:left;padding:0px !important;"
																rendered="#{fXDetailInfoBeanApprove.booRenderCurrencyId}">
																<p:message for="saleCurrencyid" display="text" />
																<p:selectOneMenu id="saleCurrencyid"
																	styleClass="#{fXDetailInfoBeanApprove.blue?'blue':'none'}"
																	value="#{fXDetailInfoBeanApprove.saleCurrency}"
																	disabled="true" filterMatchMode="startsWith"
																	required="true"
																	requiredMessage="Please Select Currency">
																	<f:selectItem itemLabel="#{msg['lbl.selectcurrency']}"
																		itemValue="" />
																	<f:selectItems
																		value="#{fXDetailInfoBeanApprove.currencylistforsale}"
																		var="c" itemLabel="#{c.fsCurrencyMaster.currencyName}"
																		itemValue="#{c.fsCurrencyMaster.currencyId}" />

																</p:selectOneMenu>
															</p:column>
															<p:column
																style="width:100%; text-align:left;padding:0px !important;"
																rendered="#{fXDetailInfoBeanApprove.booRenderCurrencySingle}">
																<p:inputText
																	value="#{fXDetailInfoBeanApprove.saleCurrencyName}"
																	readonly="true">

																</p:inputText>
															</p:column>
														</p:row>
													</p:panel>
												</p:panel>
												<div class="clearfix"></div>

												<p:panel styleClass="left_col" id="saleAccNo">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.accountnumber']}" />
														<h:outputText value="*" style="color:red;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:panelGrid id="Checksalpanelonselect"
															style="width:100%;">
															<p:row>
																<p:column
																	style="width:100%; text-align:left;padding:0px !important;"
																	rendered="#{fXDetailInfoBeanApprove.oneAccNoSal}">
																	<p:message for="singlaccNo" display="text" />
																	<p:inputText id="singlaccNo"
																		value="#{fXDetailInfoBeanApprove.saleAcctNo}"
																		readonly="true" required="true"
																		requiredMessage="Account Number Can't be Empty">
																	</p:inputText>
																</p:column>

																<p:column
																	style="width:100%; text-align:left;padding:0px !important;"
																	rendered="#{fXDetailInfoBeanApprove.mulAccNosal}">
																	<p:message for="account2" display="text" />
																	<p:selectOneMenu id="account2"
																		value="#{fXDetailInfoBeanApprove.saleAccountNumber}"
																		disabled="true" filterMatchMode="startsWith"
																		required="true"
																		requiredMessage="Please Select Account Number">
																		<f:selectItem
																			itemLabel="#{msg['lbl.selectaccountnumber']}"
																			itemValue="" />
																		<f:selectItems
																			value="#{fXDetailInfoBeanApprove.accountNumberListforSale}"
																			var="c" itemLabel="#{c.bankAcctNo}"
																			itemValue="#{c.bankAcctDetId}" />

																	</p:selectOneMenu>
																</p:column>


															</p:row>
														</p:panelGrid>


													</p:panel>
												</p:panel>

												<p:panel styleClass="left_col" id="accBal">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.bankBalance']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="accBalid" display="text" />
														<p:inputText id="accBalid"
															value="#{fXDetailInfoBeanApprove.saleBalance}"
															readonly="true" required="true"
															requiredMessage="Please Enter Sales Bank Balance"
															label="Sales Bank Balance">

														</p:inputText>
													</p:panel>
												</p:panel>
												<div class="clearfix"></div>

												<p:panel styleClass="left_col">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.valuedate']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="dateofexpiry" display="text"
															id="msgdateofexpiry" />
														<!-- <p:inputText value="#{fXDetailInfoBeanApprove.saleValueDate}" required="true" requiredMessage="Please Enter Sales Value Date" label="Sales Value Date"/> -->
														<p:inputText id="dateofexpiry" mode="popup"
															label="Company ID Expiary Date"
															value="#{fXDetailInfoBeanApprove.saleValueDateStr}"
															readonly="true">
														</p:inputText>
													</p:panel>
												</p:panel>

												<p:panel styleClass="left_col">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.fxsaleAmount']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="saleAmountId" display="text" />
														<p:inputText id="saleAmountId"
															value="#{fXDetailInfoBeanApprove.saleAmount}"
															readonly="true" required="true"
															requiredMessage="Please Enter Sales Amount"
															label="Sales Amount">

															<f:validator
																validatorId="com.amg.exchange.validator.fx_DealRateValidator" />
														</p:inputText>
													</p:panel>
												</p:panel>

												<p:panel styleClass="left_col" id="avgRatePanel">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.averagerate']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="averagerateid" display="text"
															style="text-shadow:none !important;"
															id="msgaveragerateid" />
														<p:inputText id="averagerateid"
															value="#{fXDetailInfoBeanApprove.saleAvgRate}"
															readonly="true" required="true"
															requiredMessage="Please Enter Sales Average Rate"
															label="Sales Average Rate">
														</p:inputText>
													</p:panel>
												</p:panel>

												<p:panel styleClass="left_col" id="salelocalid">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.fclocalamt']}" />
														<h:outputText value="*"
															style="color:red;font-weight:bold;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="salesLocalAmountId" display="text"
															style="text-shadow:none !important;" />
														<p:inputText id="salesLocalAmountId"
															value="#{fXDetailInfoBeanApprove.saleLocalAmount}"
															readonly="true" required="true"
															requiredMessage="Please Enter Sales Local Amount"
															label="Sales Local Amount">
															<!-- <p:ajax event="blur" listener="#{fXDetailInfoBeanApprove.checkingSalesLocalAmountandFCLocalAmount}" update="salesLocalAmountId"/> -->
															<f:validator
																validatorId="com.amg.exchange.validator.fx_DealRateValidator" />
														</p:inputText>
													</p:panel>
												</p:panel>

												<!-- <p:panel styleClass="left_col" id="salePurchaseInstrunctionid">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.bankTransferRequestInstructionNumber']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="saleInstrnid" display="text" id="msgsalePurchaseInstrunctionid"/>
											<p:row>
												<p:column style="width:100%; text-align:left;padding:0px !important;"  rendered="#{fXDetailInfoBeanApprove.booRenderStandInsID}">
												
											    <p:selectOneMenu id="saleInstrnid" value="#{fXDetailInfoBeanApprove.salePurchaseInstrunction}" disabled="true"	filterMatchMode="startsWith" required="true" requiredMessage="Please Select Standard Instruction Number" label="Standard Instruction Number">
											       <f:selectItem itemLabel="#{msg['lbl.instructionNo']}" itemValue="" />
											       <f:selectItems value="#{fXDetailInfoBeanApprove.pstandardInstrnforSales}" var="c" itemLabel="#{c.standardInsructionNumber} - #{c.instructionDescription}" itemValue="#{c.standardInsructionNumber}" />
											       <p:ajax for="saleInstrnid" event="change" listener="#{fXDetailInfoBeanApprove.salesStandardInstrunctionDescription}" update="msgsalePurchaseInstrunctionid,salePurchaseInstructionDescid,checkboxsaleid"/>
											    </p:selectOneMenu>
											   </p:column>
											<p:column style="width:100%; text-align:left;padding:0px !important;"  rendered="#{fXDetailInfoBeanApprove.booRenderStandInsIDForUpdate}">
											<p:message for="saleInstrunctionid" display="text" />
            											<p:inputText id="saleInstrunctionid" value="#{fXDetailInfoBeanApprove.salePurchaseInstrunctionForUpdate}" readonly="true" />
											</p:column>
									</p:row>			
											</p:panel>
										</p:panel> -->

												<p:panel styleClass="left_col" id="salesstandarddesc">
													<p:panel styleClass="inner_left_col">
														<h:outputText value="#{msg['lbl.standardinstruction']}" />
														<h:outputText value="*" style="color:red;" />
													</p:panel>
													<p:panel styleClass="inner_right_col">
														<p:message for="salePurchaseInstructionDescid"
															display="text" />
														<p:inputText id="salePurchaseInstructionDescid"
															value="#{fXDetailInfoBeanApprove.salePurchaseInstructionDesc}"
															readonly="true" required="true"
															requiredMessage="Please Enter Standard Instruction Description"
															label="Standard Instruction Description">
														</p:inputText>
													</p:panel>
												</p:panel>
												<div class="clearfix"></div>

												<!-- <p:panel styleClass="left_col">
											<p:panelGrid style="width:47%;">
												<p:row>
													<p:column style="width:95%;">
														<h:outputText value="Check &amp; Verify Instruction"
															style="color:#ff5400 !important; font-size:13px !important; font-weight:bold;" />
														<p:spacer width="5px" />
													</p:column>
													<p:column style="width:5%;">
														<p:commandLink id="checkboxsale" actionListener="#{fXDetailInfoBeanApprove.getDataTableForSalesDetails}" process="@this" update=":form:salesdetails,:form:checkboxsale" oncomplete="PF('salesdetails').show();" disabled="#{fXDetailInfoBeanApprove.saleCommandLinkDisable}">
														<p:message for="checkboxsaleid" display="text" id="msgcheckboxsaleid"/>
														<p:selectBooleanCheckbox styleClass="checkdis"  id="checkboxsaleid" value="#{fXDetailInfoBeanApprove.salesCheckbox}" disabled="#{fXDetailInfoBeanApprove.saleCheckboxDisable}" required="true" requiredMessage="Please verify the Checkbox">
														<p:ajax />
														</p:selectBooleanCheckbox>
										                </p:commandLink>
													</p:column>
												</p:row>
											</p:panelGrid>
										</p:panel> -->


												<p:panel styleClass="left_col"
													style="padding-left:10px !important;">
													<h:outputText value="#{msg['lbl.checkno']}"
														style="color:#ff5400 !important; font-size:13px !important; font-weight:bold;" />
													<p:spacer width="5px" />
													<p:selectBooleanCheckbox styleClass="checkdis"
														id="checkboxsaleid"
														value="#{fXDetailInfoBeanApprove.salesCheckbox}"
														disabled="#{fXDetailInfoBeanApprove.saleCheckboxDisable}">
														<p:ajax event="change"
															listener="#{fXDetailInfoBeanApprove.getDataTableForSalesDetails}"
															update="salesdetails,checkboxsaleid"
															onstart="statusDialog.show();"
															onsuccess="statusDialog.hide();" />
													</p:selectBooleanCheckbox>
												</p:panel>

												<p:dialog id="salesdetails" widgetVar="salesdetails"
													width="650" resizable="false"
													style="background-color: white !important;"
													styleClass="info" header="Sales Details" showHeader="true"
													showEffect="clip" hideEffect="clip" closable="false">

													<p:dataTable
														value="#{fXDetailInfoBeanApprove.cstandardInstrnDetailsforSales}"
														var="c" styleClass="mydatatableclass">

														<p:column headerText="#{msg['lbl.slNo']}"
															style="width:30px;">
															<p:outputLabel value="#{c.lineNumber}"
																style="text-align: center !important;" />
														</p:column>

														<p:column headerText="#{msg['lbl.instructions']}">
															<p:outputLabel value="#{c.lineDescription}"
																style="text-align: center !important;" />
														</p:column>

													</p:dataTable>

													<div class="clearfix"></div>

													<h:panelGroup layout="block" styleClass="shadow_button">
														<p:commandButton value="Verified"
															oncomplete="salesdetails.hide()" />
													</h:panelGroup>

													<div class="clearfix"></div>

												</p:dialog>




												<div class="clearfix"></div>

											</p:panel>


											<div class="clearfix"></div>
											<p:spacer height="10px" />
											<div class="clearfix"></div>

											<h:panelGroup layout="block" styleClass="shadow_button">
												<p:commandButton value="#{msg['lbl.approved']}"
													action="#{fXDetailInfoBeanApprove.approve}"
													style="margin-right:10px;"
													update="mainPanel,approveException"
													onstart="statusDialog.show();"
													onsuccess="statusDialog.hide();">

												</p:commandButton>

												<p:commandButton value="#{msg['lbl.exit']}"
													action="#{fXDetailInfoBeanApprove.exit}" update="mainPanel"
													immediate="true" process="@this" />
											</h:panelGroup>
											<div class="clearfix"></div>
										</p:panel>

									</p:panel>

									<p:panel id="successid"
										rendered="#{fXDetailInfoBeanApprove.successRender}"
										style="padding:20px 100px 60px 100px !important;">
										<fieldset
											style="border: 1.5px solid #64b381 !important; padding: 20px 10px !important; -webkit-border-radius: 0 4px 4px 4px !important; border-radius: 0 4px 4px 4px !important;">
											<legend
												style="font-size: 18px; font-weight: bold; color: #037712;"
												align="top">&nbsp;#{msg['lbl.success']}&nbsp;</legend>
											<p:outputLabel value="#{msg['lbl.approvedSuccess']}"
												style="font-size: 20px !important; font-weight: bold; color: #037712; text-align:center;" />

											<p:outputLabel value="#{msg['lbl.douwantDealTicketReport']}"
												style=" font-weight: bold; color: #037712; padding:10px 0px 0px 0px !important;">
												<h:commandLink value="#{msg['lbl.clickHere']} "
													actionListener="#{fXDetailInfoBeanApprove.generateDealTicketReport}"
													style="font-weight: bold; font-size:16px !important; color:blue !important; text-decoration:underline !important;"
													process="@this" immediate="true" />
											</p:outputLabel>
											<!-- 	<p:spacer height="20px"/>
												<p:outputLabel
													value="Do you Want Deal Ticket Fax Print Report ?"
													style=" font-weight: bold; color: #037712; padding:10px 0px 0px 0px !important;">
													<h:commandLink value="#{msg['lbl.clickHere']} "
														actionListener="#{fxdetailinfobean.generateDealTicketFaxReport}"
														style="font-weight: bold; font-size:16px !important; color:blue !important; text-decoration:underline !important;"
														process="@this" immediate="true" />
												</p:outputLabel>
												 -->
											<p:spacer height="20px" />
											<p:outputLabel value="#{msg['lbl.douwantPaymentReport']}"
												style=" font-weight: bold; color: #037712; padding:10px 0px 0px 0px !important;">
												<h:commandLink value="#{msg['lbl.clickHere']} "
													actionListener="#{fXDetailInfoBeanApprove.generateDealPaymentReport}"
													style="font-weight: bold; font-size:16px !important; color:blue !important; text-decoration:underline !important;"
													process="@this" immediate="true" />
											</p:outputLabel>

											<h:panelGroup layout="block" styleClass="shadow_button">
												<p:commandButton value="#{msg['lbl.ok']}"
													action="#{fXDetailInfoBeanApprove.clearCache}"
													update="mainPanel" immediate="true" process="@this"
													onclick="statusDialog.show();"
													onsuccess="statusDialog.hide();" />
											</h:panelGroup>
										</fieldset>
									</p:panel>
									<div class="clearfix"></div>
								</p:panel>
							</h:panelGroup>
							<h:panelGroup layout="block" class="clearfix"></h:panelGroup>
						</h:panelGroup></td>
				</tr>
			</table>
			<div class="clearfix"></div>
			<ui:include src="#{facesBean.footerwithoutRuleEngine}"></ui:include>
		</h:form>
	</f:view>
</h:body>
</html>