<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
</h:head>
<h:body>

<!-- <p:dialog id="complete" widgetVar="complete" width="260" height="70" showHeader="false" resizable="false" style=" border:3px solid #00a53e !important; font-weight:bold; background:url('../images/tick-green.png') 224px 45px no-repeat #FFF !important;"
                      									showEffect="clip" hideEffect="clip" closeOnEscape="true" closable="true" modal="true">
            											
            											<p:outputLabel value="Data is Successfully Saved "/><br/>
            								
            											<p:commandButton value="ok" actionListener="#{fxdetailinfobean.fxdealpage}" />          
        </p:dialog> -->
        <p:dialog id="updatecomplete" widgetVar="updatecomplete" width="260" height="70" showHeader="false" resizable="false" style=" border:3px solid #00a53e !important; font-weight:bold; background:url('../images/tick-green.png') 224px 45px no-repeat #FFF !important;"
                      									showEffect="clip" hideEffect="clip" closeOnEscape="true" closable="true" modal="true">
            											
            											<p:outputLabel value="#{msg['lbl.datasuccesfullmsg']}"/><br/>
            								
            											<p:commandButton value="ok" actionListener="#{fxdetailinfobean.clearCache}" />          
        </p:dialog>
        
       
    	
    <!-- CR For Bank and Currency Fill First -->
    
    <p:confirmDialog id="dealidexist" widgetVar="dealidexist" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.dealidexist']}">
    </p:confirmDialog>
    
    <p:confirmDialog id="purchasecdialog" widgetVar="purchasecdialog" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.enterbankmsg']}">
    </p:confirmDialog>
    
    <p:confirmDialog id="salescdialog" widgetVar="salescdialog" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.enterbankmsg']}">
    </p:confirmDialog>
    
    <p:confirmDialog id="nodata" widgetVar="nodata" width="300" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.nodatafound']}">
    </p:confirmDialog>
    
    <p:confirmDialog id="nointrndetails" widgetVar="nointrndetails" width="300" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.noinstrdetails']}">
    </p:confirmDialog>
    
    <p:confirmDialog id="entersales" widgetVar="entersales" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.salesamountmustnotbenull']}">
    </p:confirmDialog>
    
    <p:confirmDialog id="checkBoxVerify" widgetVar="checkBoxVerify" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.plsvrifycheckboxdtailandsales']}">
    </p:confirmDialog>
    
    <p:confirmDialog id="selectmuldiv" widgetVar="selectmuldiv" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.plsselectmultidivisionpurchasedetails']}">
    </p:confirmDialog>
    
    <p:confirmDialog id="fcamountnotexist" widgetVar="fcamountnotexist" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.plzselectfcamtprchsedtails']}">
    </p:confirmDialog>
    
    <p:confirmDialog id="valuedayid" widgetVar="valuedayid" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.plsselectprchasevalues']}">
    </p:confirmDialog>
    
    <p:confirmDialog id="noavgrate" widgetVar="noavgrate" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.noavgratefounddb']}">
    </p:confirmDialog>
    
    <p:confirmDialog id="nobalance" widgetVar="nobalance" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.nobankbalance']}">
    </p:confirmDialog>
    
     <!-- <p:confirmDialog id="notmatching" widgetVar="notmatching" style="background:#FFF !important;" 
                 header="Confirmation DialogBox" closable="false"
                 message="There is a difference (diff amount) in the Local Amount For the Purchase and Sale.Do you want to Continue? "  
                 severity="alert" >      
         <p:commandButton id="confirm" value="Yes" oncomplete="notmatching.hide()" action="#{fxdetailinfobean.differnceLocalValIfYes}" update=":form:salesLocalAmountId,:form:totallocalamount"/>
         <p:commandButton id="decline" value="No" oncomplete="notmatching.hide()" action="#{fxdetailinfobean.differnceLocalValIfNO}" update=":form:salesLocalAmountId,:form:totallocalamount"/>                
     </p:confirmDialog>  -->
     
     <p:confirmDialog id="dataNotFund" widgetVar="dataNotFund" width="400"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.bankaccntfnd']}">
	</p:confirmDialog>
	
	  <p:confirmDialog id="daysp" widgetVar="pdays" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.valuedatemsg']}">
    </p:confirmDialog>
    
    
     <p:confirmDialog id="daysm" widgetVar="mdays" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.valuedatelessthanmsg']}">
    </p:confirmDialog>

	<p:confirmDialog id="DocNoNotFound" widgetVar="DocNoNotFound"
		width="400" header="#{msg['lbl.warningDailog']}" height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.noDocumentNumberFound']}">
	</p:confirmDialog>
	
	<p:confirmDialog id="docapprvdone" widgetVar="docapprvdone"
		width="400" header="#{msg['lbl.warningDailog']}" height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.documentNoAlreadyApproved']}">
	</p:confirmDialog>
	
	<p:confirmDialog id="exchangeError" widgetVar="exchangeError"
		width="400" header="#{msg['lbl.warningDailog']}" height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.exchangeRateNotAvailble']}">
	</p:confirmDialog>
	
	<p:confirmDialog id="dealBankNotMatch" widgetVar="dealBankNotMatch"
		width="600" header="#{msg['lbl.warningDailog']}" height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.dealBankShouldMatchPOrSBank']}">
	</p:confirmDialog>
	
	<p:confirmDialog id="currencyCheck" widgetVar="currencyCheck"
		width="600" header="#{msg['lbl.warningDailog']}" height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.purchaseCurrencyShouldNotMatchSaleCurrency']}">
	</p:confirmDialog>
	
	<p:confirmDialog id="specialCommonMandatory" widgetVar="specialCommonMandatory"
		width="600" header="#{msg['lbl.warningDailog']}" height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.totalFCAmountAndTotalSaleAmount']}">
	</p:confirmDialog>
	
	<p:confirmDialog id="bankBalerror" widgetVar="bankBalerror" width="600" header="#{msg['lbl.errorMessage']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.thisSaleBankHaveInsufficientBankBalanceOrCannotAbleToDeal']}">
    </p:confirmDialog>
	
	<f:view>
		<ui:include src="#{facesBean.header}"></ui:include>
		<ui:include src="#{facesBean.menu}"></ui:include>
		
			<h:form id="form">
			<p:growl id="msg"/>
			
			
			<p:dialog modal="true" widgetVar="statusDialog" id="statusDialog" draggable="false" closable="false">
				<p:graphicImage value="../images/loaderImage.gif" />
			</p:dialog>
        
			<p:dialog id="puchasedetails" widgetVar="puchasedetails" width="650"   header="#{msg['lbl.purchasedetails']}" resizable="false" style=" border:3px solid #00a53e !important; font-weight:bold; background:url('../images/tick-green.png') 224px 45px no-repeat #FFF !important;"
                      									showEffect="clip" hideEffect="clip" closeOnEscape="true" closable="true" modal="true" >
					
					<p:dataTable value="#{fxdetailinfobean.cstandardInstrnDetailsPurchase}" var="c">
					
							<p:column headerText="#{msg['lbl.slNo']}" style="width:30px;">
								<p:outputLabel value="#{c.lineNumber}"/>
							</p:column>
							
							<p:column headerText="#{msg['lbl.instructions']}">
								<p:outputLabel value="#{c.lineDescription}"/>
							</p:column>
		
					</p:dataTable>
					
					<div class="clearfix"></div>
					
					<h:panelGroup layout="block" styleClass="shadow_button">
						<p:commandButton value="#{msg['lbl.verifyed']}" oncomplete="puchasedetails.hide()"/>
					</h:panelGroup>
					
			        <div class="clearfix"></div>
					         											
              </p:dialog>
              
              <p:dialog id="salesdetails" widgetVar="salesdetails" width="650"   header="#{msg['lbl.salesdetails']}" resizable="false" style=" border:3px solid #00a53e !important; font-weight:bold; background:url('../images/tick-green.png') 224px 45px no-repeat #FFF !important;"
                      									showEffect="clip" hideEffect="clip" closeOnEscape="true" closable="true" modal="true" >
					
					<p:dataTable value="#{fxdetailinfobean.cstandardInstrnDetailsforSales}" var="c">
					
							<p:column headerText="#{msg['lbl.slNo']}" style="width:30px;">
								<p:outputLabel value="#{c.lineNumber}"/>
							</p:column>
							
							<p:column headerText="#{msg['lbl.instructions']}">
								<p:outputLabel value="#{c.lineDescription}"/>
							</p:column>
		
					</p:dataTable>
					
					<div class="clearfix"></div>
					
					<h:panelGroup layout="block" styleClass="shadow_button">
						<p:commandButton value="#{msg['lbl.verifyed']}" oncomplete="salesdetails.hide()"/>
					</h:panelGroup>
					
			        <div class="clearfix"></div>
					         											
              </p:dialog>
			
				<table align="left" width="100%" style="height: 100%;">
					<tr>
						<td align="left" valign="top" style="height: 100%;">
								<ui:include src="#{facesBean.fxdeal_menu}"></ui:include>
								</td>
		
						<td class="rightColumn" valign="top"><h:panelGroup
								layout="block" class="container">
								<h:panelGroup layout="block" class="main_div">
									<div class="menu_button">
										<img style="cursor: pointer; position: relative; left: 15px;"
											id="HideHandle" name="HideHandle"
											src="../images/toggle_plus.png" alt=""
											onclick='hideLeftCol("leftCol");closeMenus();' />
									</div>
									<h1>
										<h:outputText value="#{msg['lbl.fxdealwithbank']}"/>
									</h1>
		
		
									<p:panel styleClass="shadow" id="mainPanel"
										style="background-color:#FFF !important; " rendered="#{fxdetailinfobean.mainRenderPanel}" >
										
										<p:confirmDialog id="saveerror" header="#{msg['lbl.warningDailog']}"
											widgetVar="saveerror" width="350" resizable="false"
											style=" border:2px solid #F33535 !important; padding:0px !important;  color:red; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
											showEffect="clip" hideEffect="clip"
											message="#{msg['lbl.errorWhileSavingFxDealBank']}">
											
											<p:commandButton value="Exit" actionListener="#{fxdetailinfobean.clearCache}" process="@this" update="mainPanel"/>
												
										</p:confirmDialog>
										
										<p:dialog id="complete" widgetVar="complete"  showHeader="false" resizable="false" style=" border:3px solid #00a53e !important; font-weight:bold; background:url('../images/tick-green.png') 345px 45px no-repeat #FFF !important;"
                      									showEffect="clip" hideEffect="clip" closeOnEscape="true" closable="true" modal="true">
            											
            											<p:outputLabel value="#{msg['lbl.dataSuccessfullySavedWithRefNo']} #{fxdetailinfobean.docSerialIdNumberForSave}"/><br/>
            								
            											<p:commandButton value="#{msg['lbl.ok']}" actionListener="#{fxdetailinfobean.clearCacheDealTracker}" />          
        	</p:dialog>
										
										 <p:confirmDialog id="greatersales" widgetVar="greatersales" width="600" header="#{msg['lbl.warningDailog']}"
		height="17" resizable="false"
		style=" border:2px solid #F33535 !important; padding:0px !important;  color:red !important; font-weight:bold; background:url('../images/warning-icon.png') 5px 15px no-repeat #FFF !important;"
		showEffect="clip" hideEffect="clip" closeOnEscape="true"
		closable="true" message="#{msg['lbl.fxsaleAmount']} #{fxdetailinfobean.saleAmount} #{msg['lbl.shouldBeGreatThanBankBalance']} #{fxdetailinfobean.saleBalance}">
    </p:confirmDialog>
    
     

									

									<h3>
											<h:outputText value="#{msg['lbl.fxdealwithbank']}" />
										</h3>
		
		<p:panel styleClass="panel_border">
												
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.company']}" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:inputText id="company" value="#{fxdetailinfobean.lstCompany}"  readonly="true"/>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.documentdesc']}" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:inputText value="#{fxdetailinfobean.document}" readonly="true">
											<p:ajax/></p:inputText>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col" id="dealYearValueID">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.dealreference']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:panelGrid style="width:98%;">
										<p:row>		
											<p:column  style="width:45% !important; padding:0px 13px 0px 0px !important;">
            									<p:inputText id="dealYearId" value="#{fxdetailinfobean.dealYear}" readonly="true" >
            									<p:ajax/></p:inputText>
            								</p:column>
            								<p:column  style="width:50% !important; padding:0px 13px 0px 0px !important;"  rendered="#{fxdetailinfobean.renderRef}">
            									<p:inputText value="#{fxdetailinfobean.dealReference}" readonly="true">
            									</p:inputText>
            								</p:column>
            								<p:column  style="width:50% !important; padding:0px !important;" rendered="#{fxdetailinfobean.renderRefEditable}">
            								<p:message for="editableDocumentSerialId" display="text" id="msgeditableDocumentSerialId" />
            								<p:selectOneMenu id="editableDocumentSerialId"
												value="#{fxdetailinfobean.editaleRefId}" filter="true"
												filterMatchMode="startsWith" required="true"
												requiredMessage="Please Select Document Number">
												<f:selectItem itemLabel="#{msg['lbl.select']}"
													itemValue="" />
												<f:selectItems
													value="#{fxdetailinfobean.lstofUnApproved}" var="c"
													itemLabel="#{c.treasuryDocumentNumber}" itemValue="#{c.treasuryDocumentNumber}"/>
													<p:ajax event="change" listener="#{fxdetailinfobean.fetchingAllRecordsFromDB}" update="mainPanel,:form:accordid:purchaseSpecialPool"/>
											</p:selectOneMenu>
            								
            									<!-- <p:inputText id="editableDocumentSerialId" value="#{fxdetailinfobean.editaleRefId}" required="true" requiredMessage="Enter Document Serial ID">
            									<p:ajax event="blur" listener="#{fxdetailinfobean.fetchingAllRecordsFromDB}" update="mainPanel"/> 
            									<p:message for="editableDocumentSerialId" display="text" id="msgeditableDocumentSerialId" />
            									</p:inputText> -->
            									</p:column>
            								
            								<!-- <p:column  style="width:5% !important; padding:0px !important;text-align:right !important;" rendered="#{fxdetailinfobean.renderRef}">
            									<p:commandButton value=" "  styleClass="edit" action="#{fxdetailinfobean.editableRefereneceNo}" update="mainPanel"  process="@this"/>
            								</p:column>
            								 -->
										</p:row>
									</p:panelGrid>
											</p:panel>
										</p:panel>
										
										<!-- <p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.dealdate']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:panelGrid style="width:98%;">
										    <p:row>		
											<p:column  style="width:45% !important; padding:0px 13px 0px 0px !important;" rendered="#{fxdetailinfobean.renderdealedit}">
            									<p:inputText id="dealDate" value="#{fxdetailinfobean.userDealDate}">
            									    <p:ajax event="blur" listener="#{fxdetailinfobean.getDealYearChange}" update="dealYearValueID"/>
            									</p:inputText>
            								</p:column>
            								<p:column  style="width:45% !important; padding:0px 13px 0px 0px !important;"  rendered="#{fxdetailinfobean.renderdealdate}">
            									<p:inputText value="#{fxdetailinfobean.dealDate}" readonly="true"/>
            								</p:column>            								
            								<p:column  style="width:5% !important; padding:0px !important;text-align:right !important;">
            									<p:commandButton value=" " styleClass="edit" action="#{fxdetailinfobean.editableDealDate}" update="mainPanel"  process="@this"/>
            								</p:column>
										</p:row>
									</p:panelGrid>
											
											
											</p:panel>
										</p:panel> -->
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.dealdate']}" /> <h:outputText value="*"  style="color:red;font-weight:bold;"/>
											</p:panel>
											<p:panel styleClass="inner_right_col">
											
											 <p:message for="hdValueDate" display="text" id="hdValDate" /> 
											<p:calendar id="hdValueDate" value="#{fxdetailinfobean.userDealDate}" mode="popup" pattern="dd/MM/yyyy" mindate="#{fxdetailinfobean.effectiveMinDate}" disabled="true" maxdate="#{fxdetailinfobean.effectiveMaxDate}" navigator="true" readonlyInput="true" required="true" requiredMessage="Enter Deal Date">
        													<p:ajax event="dateSelect" listener="#{fxdetailinfobean.onDateSelectForDealDate}" update="hdValDate,valueDateId,dateofexpiry" />
    										</p:calendar> 
												
											</p:panel>
											
											
										</p:panel>
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.dealwith']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="dealid" display="text" id="msgdealid"/>
											<p:selectOneMenu id="dealid" disabled="true"
												value="#{fxdetailinfobean.dealWith}" filter="true"
												filterMatchMode="startsWith" required="true"
												requiredMessage="Please Select Deal With" tabindex="1">
												<f:selectItem itemLabel="#{msg['lbl.fxdeal']}"
													itemValue="" />
												<f:selectItems
													value="#{fxdetailinfobean.dealListBank}" var="c"
													itemLabel="#{c.bankCode}-#{c.bankFullName}" itemValue="#{c.bankId}"/>
													<p:ajax update="msgdealid" />
											</p:selectOneMenu>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.contact']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="contactid" display="text" id="msgcontactid"/>
											<p:inputText id="contactid" value="#{fxdetailinfobean.contact}" readonly="true" maxlength="20" required="true" requiredMessage="Please Enter Contact" tabindex="2">
											<p:ajax update="msgcontactid" />
											</p:inputText>
											</p:panel>
										</p:panel>
										<div class="clearfix"></div>
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.concludedby']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="concludedid" display="text" id="msgconcludedid"/>
											<p:inputText id="concludedid" value="#{fxdetailinfobean.concludedBy}" maxlength="20" required="true" requiredMessage="Please Enter Concluded By" tabindex="3" readonly="true">
											<p:ajax update="msgconcludedid" />
											</p:inputText>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.reutersref']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="reuterid" display="text" id="msgreuterid"/>
											<p:inputText id="reuterid" value="#{fxdetailinfobean.reuterReference}" maxlength="20" required="true" requiredMessage="Please Enter Reuter Reference" tabindex="4" readonly="true">
											<p:ajax update="msgreuterid" />
											</p:inputText>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.remark']}" /><!-- <h:outputText value="*" style="color:red;font-weight:bold;" /> -->
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="remarkid" display="text" id="msgremarkid"/>
											<p:inputTextarea id="remarkid" style="height:70px !important;" maxlength="250"  value="#{fxdetailinfobean.remark}"  tabindex="5">
											<p:ajax update="msgremarkid" />
											</p:inputTextarea>
											</p:panel>
										</p:panel>
	
						
										<div class="clearfix"></div>
	
		
										</p:panel>
										<div class="clearfix"></div>
										<p:spacer height="10px"/>
										<div class="clearfix"></div>
										<h3>
											<h:outputText value="#{msg['lbl.purchasedetails']}" />
										</h3>
										
	<p:panel styleClass="panel_border" id="purchageDetailsPanel">
												
									<p:panel styleClass="left_col" id="pnlBank">
										<p:panel styleClass="inner_left_col">
											<h:outputText value="#{msg['lbl.bank']}" />
											<h:outputText value="*" style="color:red;" />
										</p:panel>
										<p:panel styleClass="inner_right_col">
											<p:message for="bankId" display="text" id="msgbankId"/>
											<p:selectOneMenu id="bankId" styleClass="#{fxdetailinfobean.blue ? 'blue ' : 'none'}" disabled="true"
												value="#{fxdetailinfobean.purchaseBank}" filter="true"
												filterMatchMode="startsWith" required="true"
												requiredMessage="Please Select Bank" label="Bank" tabindex="6">
												<f:selectItem itemLabel="#{msg['lbl.selectbank']}" itemValue="" />
												<f:selectItems value="#{fxdetailinfobean.lstAllBankApplicabity}" var="c" itemLabel="#{c.bankMaster.bankCode} -  #{c.bankMaster.bankFullName}" itemValue="#{c.bankMaster.bankId}"/>
													<p:ajax for="bankId" event="change" listener="#{fxdetailinfobean.populateCurrencyBasedOnBankForPurchase}" update="mainPanel,exchangerateid,multiplicationdivisionid"/>
											</p:selectOneMenu>
										</p:panel>
									</p:panel>

										<!-- <p:panel styleClass="left_col" id="pnlCurrency">
										<p:panel styleClass="inner_left_col">
											<h:outputText value="#{msg['lbl.currency']}" />
											<h:outputText value="*" style="color:red;" />
										</p:panel>
										<p:panel styleClass="inner_right_col">
											<p:message for="currencyId" display="text" id="msgcurrencyId"/>
											<p:selectOneMenu id="currencyId"
												value="#{fxdetailinfobean.purchaseCurrency}" filter="true"
												filterMatchMode="startsWith" required="true"
												requiredMessage="Please Select Currency" label="Currency">
												<f:selectItem itemLabel="#{msg['lbl.selectcurrency']}"
													itemValue="" />
												<f:selectItems
													value="#{fxdetailinfobean.bankCountryCurrencyList}"
													var="c" itemLabel="#{c.fsCurrencyMaster.currencyName}"
													itemValue="#{c.fsCurrencyMaster.currencyId}" />
													<p:ajax for="currencyId" event="change"
													listener="#{fxdetailinfobean.purchaseStandardInstruction}" update="msgcurrencyId,pnlAccountNo,countersel,standardId,:form:accordid:purchaseSpecialPool,:form:commandlink,:form:checkboxid"/>
											</p:selectOneMenu>
										</p:panel>
									</p:panel> -->
									
									<p:panel styleClass="left_col" id="pnlCurrency">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.currency']}" />
												<h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
												<p:row>
													<p:column style="width:100%; text-align:left;padding:0px !important;"
														rendered="#{fxdetailinfobean.booRenderBankId}">
														<p:message for="currencyId" display="text" />
														<p:selectOneMenu id="currencyId" styleClass="#{fxdetailinfobean.blue?'blue':'none'}" value="#{fxdetailinfobean.purchaseCurrency}" filter="true"	filterMatchMode="startsWith" required="true" disabled="true" requiredMessage="Please Select Currency" tabindex="7">
														<f:selectItem itemLabel="#{msg['lbl.selectcurrency']}" itemValue="" />
												<f:selectItems
													value="#{fxdetailinfobean.bankCountryCurrencyList}"
													var="c" itemLabel="#{c.fsCurrencyMaster.currencyName}"
													itemValue="#{c.fsCurrencyMaster.currencyId}" />
													<p:ajax for="currencyId" event="change"
													listener="#{fxdetailinfobean.purchaseStandardInstruction}" update="salesLocalAmountId,totallocalamount,localexchangerate,exchangerateid,multiplicationdivisionid,pnlAccountNo,countersel,standardId,purchageDetailsPanel,saleDetailsPanel"/>
											     </p:selectOneMenu>
													</p:column>
													<p:column style="width:100%; text-align:left;padding:0px !important;"	rendered="#{fxdetailinfobean.booRenderBankIdForUpdate}">
														<p:inputText value="#{fxdetailinfobean.purchaseCurrencyName}" readonly="true" tabindex="7" >
														<p:ajax update="salesLocalAmountId,totallocalamount,localexchangerate,exchangerateid,multiplicationdivisionid,pnlAccountNo,countersel,standardId,purchageDetailsPanel,saleDetailsPanel,calid"/>
														</p:inputText>
													</p:column>
												</p:row>
											</p:panel>
										</p:panel>
										<div class="clearfix"></div>

										<p:panel styleClass="left_col" id="valueDateId">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.fxvaliate']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="calid" display="text" id="msgcalid"/>
													<p:calendar id="calid" value="#{fxdetailinfobean.date3}" mode="popup" mindate="#{fxdetailinfobean.effectiveMinDate}" pattern="dd/MM/yyyy" required="true" requiredMessage="Please Enter Value Date" disabled="true">
        													<p:ajax event="dateSelect" listener="#{fxdetailinfobean.onDateSelect}" update="msgcalid"/>
    												</p:calendar>
											</p:panel>
										</p:panel>
										
								        <p:panel styleClass="left_col" id="pnlAccountNo">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.accountnumber']}" /><h:outputText value="*"  style="color:red;"/>
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="singleaccountnumber" display="text" id="msgsingleaccountnumber"/>
											<p:message for="account" display="text" id="msgaccount"/>
						                    <p:panelGrid id="Checkpanelonselect" style="width:100%;">   
        										<p:row>
            										<p:column style="width:100%; text-align:left;padding:0px !important;" rendered="#{fxdetailinfobean.booSelectbankPAcc}">
            											<p:inputText id="singleaccountnumber" value="#{fxdetailinfobean.singlacc}" readonly="true" required="true" requiredMessage="Account Number Can't be Empty" tabindex="8">
            											<p:ajax update="msgsingleaccountnumber"/>
													</p:inputText>
													</p:column>														

											<p:column style="width:100%; text-align:left;padding:0px !important;" rendered="#{fxdetailinfobean.multiselectPAcc}">
											
											<p:selectOneMenu id="account" value="#{fxdetailinfobean.purchaseAccountNumber}" filter="true" filterMatchMode="startsWith" required="true" requiredMessage="Please Select Account Number" tabindex="8">
												<f:selectItem itemLabel="#{msg['lbl.selectaccountnumber']}"
													itemValue="" />
												<f:selectItems
													value="#{fxdetailinfobean.accountNumberList}"
													var="c" itemLabel="#{c.bankAcctNo}"
													itemValue="#{c.fundGlno}" />
													<p:ajax update="msgaccount" event="change" listener="#{fxdetailinfobean.fetchFaAccNum}"/>
											</p:selectOneMenu>
											</p:column>
									</p:row>
    									</p:panelGrid>	
										</p:panel>
										</p:panel>
										<div class="clearfix"></div>
										
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.multidiv']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="multiplicationdivisionid" display="text" id="msgmultiplicationdivisionid"/>
											<p:selectOneMenu id="multiplicationdivisionid" value="#{fxdetailinfobean.purchaseMultipleDivision}" required="true" requiredMessage="Please Select Arthematic Operation" tabindex="9" disabled="true">
											<f:selectItem itemLabel="#{msg['lbl.mulordiv']}"/>
											<f:selectItem itemLabel="Multiplication" itemValue="1" />
											<f:selectItem itemLabel="Division" itemValue="2" />
											<p:ajax event="change" listener="#{fxdetailinfobean.resetExchangeRate}" update="salesLocalAmountId,totallocalamount,localexchangerate,msgmultiplicationdivisionid,exchangerateid,:form:accordid:purchaseSpecialPool,localamountid,totalFc,saleAmountId,fcSaleAmountPanel"/>
											</p:selectOneMenu>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.exchangerate']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="exchangerateid" display="text" style="text-shadow:none !important;" id="msgexchangerateid"/>
											<p:inputText id="exchangerateid" value="#{fxdetailinfobean.purchaseExchangeRate}" required="true" readonly="true"
												requiredMessage="Please Enter Purchase Exchange Rate" label="Purchase Exchange Rate" widgetVar="f6" tabindex="10">
												<p:watermark for="exchangerateid" value="Enter Exchange Rate" id="watermarkid" />
												<p:ajax event="blur" listener="#{fxdetailinfobean.localValue}" update="salesLocalAmountId,totallocalamount,localexchangerate,exchangerateid,:form:accordid:purchaseSpecialPool,localamountid,totalFc,multiplicationdivisionid,msgexchangerateid,saleAmountId,greatersales,fcSaleAmountPanel"/>
												<f:validator validatorId="com.amg.exchange.validator.doubleCheckValidator"/>
											</p:inputText>
											</p:panel>
										</p:panel>
										<div class="clearfix"></div>
										
										<p:panel styleClass="left_col" id="countersel">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.instructionnumber']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="counterid" display="text" id="msgcounterid"/>
											<p:row>
												<p:column style="width:100%; text-align:left;padding:0px !important;"  rendered="#{fxdetailinfobean.booRenderPurchaseInstrunction}">
											    <p:selectOneMenu id="counterid" value="#{fxdetailinfobean.purchaseInstrunction}" filter="true"	filterMatchMode="startsWith" required="true" requiredMessage="Please Select Standard Instruction Number" label="Standard Instruction Number" tabindex="11">
											       <f:selectItem itemLabel="#{msg['lbl.instructionNo']}" itemValue="" />
											       <f:selectItems value="#{fxdetailinfobean.pstandardInstrnforPurchase}" var="c" itemLabel="#{c.standardInsructionNumber} - #{c.instructionDescription}" itemValue="#{c.standardInsructionNumber}" />
											       <p:ajax for="counterid" event="change" listener="#{fxdetailinfobean.standardInstrunctionDescription}" update="msgcounterid,standardId,checkboxid"/>
											    </p:selectOneMenu>
											   </p:column>
											<p:column style="width:100%; text-align:left;padding:0px !important;"  rendered="#{fxdetailinfobean.booRenderPurchaseInstrunctionForUpdate}">
            											<p:inputText id="counterselid" value="#{fxdetailinfobean.purchaseInstrunctionForUpdate}" readonly="true" tabindex="11"/>
											</p:column>
									        </p:row>	
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col" id="pnlstandard">
										<p:panel styleClass="inner_left_col">
											<h:outputText value="#{msg['lbl.standardinstruction']}" />
											<h:outputText value="*" style="color:red;" />
										</p:panel>
										<p:panel styleClass="inner_right_col">
											<p:inputText id="standardId" value="#{fxdetailinfobean.purchaseInstructionDesc}" readonly="true" label="Standard Instruction Description">
											</p:inputText>
										</p:panel>
									    </p:panel>
										<div class="clearfix"></div>


										<!-- <p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.localexchangerate']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="localexchangerateid" display="text" style="text-shadow:none !important;" id="msglocalexchangerateid"/>
											<p:inputText id="localexchangerateid" value="#{fxdetailinfobean.purlocalExchangeRate}" required="true"
												requiredMessage="Please Enter Local Exchange Rate" label="Local Exchange Rate">
												<p:watermark for="localexchangerateid" value="Enter Local Exchange Rate" id="watermark1"/>
												<p:ajax update="msglocalexchangerateid,localexchangerateid"/>
												<f:validator validatorId="com.amg.exchange.validator.fx_DealRateValidator"/>
											</p:inputText>
											</p:panel>
										</p:panel> -->
										
										<!-- <p:spacer height="50px"/> -->
										<div class="clearfix"></div>
										
										<p:panel styleClass="left_col" style="padding-left:10px !important;">
										<h:outputText value="#{msg['lbl.checkno']}" style="color:#ff5400 !important; font-size:13px !important; font-weight:bold;" /> <p:spacer width="5px"/>
										<p:selectBooleanCheckbox styleClass="checkdis" id="checkboxid" value="#{fxdetailinfobean.purchaseCheckbox}" disabled="#{fxdetailinfobean.purchaseCheckboxDisable}" required="true" requiredMessage="Please verify the Checkbox">
										<p:ajax event="change" listener="#{fxdetailinfobean.getDataTableForPurchaseDetails}" update="puchasedetails,checkboxid"/>
										</p:selectBooleanCheckbox>
										</p:panel>
										
										<h:panelGroup id="marqueeid" rendered="#{fxdetailinfobean.splCustMsg}">
											<h:outputLabel style="color:red">
														<f:verbatim>
															<marquee behavior="alternate"> CHECK SPECIAL CUSTOMER AVALIABLE HERE  </marquee>
														</f:verbatim>
											</h:outputLabel>
										</h:panelGroup>
										
										<div class="clearfix"></div>
										<!-- <p:spacer height="20px"/> -->
										<div class="clearfix"></div>
										<p:accordionPanel activeIndex="" styleClass="inner_accardion" id="accordid">
										<p:tab title="#{msg['lbl.purchasereqforspldeal']}" id="tbid" titletip="Click here to View Special Pool Details">
										<p:dataTable id="purchaseSpecialPool" value="#{fxdetailinfobean.purchaseReqSplPoolDataTableList}" var="c"
										editable="true" editMode="cell" cellpadding="0" cellspacing="0" border="1" rowIndexVar="rowIndex" emptyMessage="#{msg['lbl.norecordfound']}">

										
										<p:column headerText="#{msg['lbl.slNo']}">
										    <h:outputText value="#{rowIndex+1}" />
										</p:column>
												
												
										<p:column headerText="#{msg['lbl.custName']}">
											<p:outputLabel value="#{c.customerFirstName}"/>
										</p:column>
												
										<p:column headerText="#{msg['lbl.custspecialdeal']}">
											<p:outputLabel value="#{c.documentNumber} / #{c.splReqFinanceYear}"/>
										</p:column>
												
										<p:column headerText="#{msg['lbl.fcamount']}">
										    <p:outputLabel value="#{c.foreignCurrencyAmount}"/>
										</p:column>
	
										<p:column headerText="#{msg['lbl.fxsaleAmount']}">
										    <p:outputLabel value="#{c.localAmount}"/>
										</p:column> 
												
										<p:column headerText="#{msg['lbl.select']}">
											<p:selectBooleanCheckbox value="#{c.selectRecord}" >
												<p:ajax event="change" listener="#{fxdetailinfobean.calFcAmountFromDataTableByDealTicket(c)}" update=":form:totalFc,:form:saleAmountId,:form:salesLocalAmountId,:form:totallocalamount,:form:localexchangerate,:form:localamountid,:form:greatersales,purchaseSpecialPool,:form:fcamountid,:form:fcSaleAmount"/>
											</p:selectBooleanCheckbox>
										</p:column>
								
												
									    </p:dataTable>
        </p:tab>
        </p:accordionPanel>                            
      <div class="clearfix"></div>
										<p:spacer height="10px"/>
										<div class="clearfix"></div>
										<h2>
											<h:outputText value="#{msg['lbl.purchasereqdealcommonpool']}"  />
										</h2>
										
									
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.fcamount']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="fcamountid" display="text" id="msgfcamountid"/>
											<p:inputText id="fcamountid" value="#{fxdetailinfobean.fcAmount}" required="#{fxdetailinfobean.fcAmountRequired}" readonly="true"
												requiredMessage="Please Enter FC Amount" label="FC Amount">
												<p:ajax event="blur" listener="#{fxdetailinfobean.DataTableForPurchaseCommonPool}" update="fcamountid,tfcpurchaseid,saleAmountId,localamountid,salesLocalAmountId,totallocalamount,localexchangerate,msgfcamountid,greatersales,fcSaleAmountPanel"/>
												<f:validator validatorId="com.amg.exchange.validator.NegativeNotAllowedValidator"/>
											</p:inputText>
											</p:panel>
										</p:panel>
												
										<p:panel styleClass="left_col" id="fcSaleAmountPanel">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.fxsaleAmount']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="fcSaleAmount" display="text" />
											<p:inputText id="fcSaleAmount" value="#{fxdetailinfobean.fcSaleAmount}" readonly="true">
											</p:inputText>
											</p:panel>
										</p:panel>
										
										<div class="clearfix"></div>
										<p:spacer height="10px"/>
										<div class="clearfix"></div>
										<h2>
											<h:outputText value="#{msg['lbl.totalpurchasereq']}"  />
										</h2>
										
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.localexchangerate']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:inputText id="localexchangerate" value="#{fxdetailinfobean.localExchangeRate}" readonly="true" required="true" requiredMessage="Please Enter Local Exchange Rate" label="Local Exchange Rate">
											</p:inputText>
											</p:panel>
										</p:panel>
											
										<p:panel styleClass="left_col" id="tfcpurchaseid">
											<p:panel styleClass="inner_left_col" style="padding-top:0px !important;">
												<h:outputText value="#{msg['lbl.fcpurchaseamount']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
												<p:inputText id="totalFc" value="#{fxdetailinfobean.totalFcPurchaseAmount}" readonly="true" required="true" requiredMessage="Please Enter Total FC Purchase Amount" label="Total FC Purchase Amount"/>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.totallocalamount']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:inputText id="totallocalamount" value="#{fxdetailinfobean.totallocalAmount}" readonly="true" required="true" requiredMessage="Please Enter Total Local Amount" label="Total Local Amount">
											</p:inputText>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.totalsaleamount']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="localamountid" display="text" />
											<p:inputText id="localamountid" value="#{fxdetailinfobean.fcLocalAmount}" readonly="true" required="true"
												requiredMessage="Please Enter Total Sale Amountt" label="Total Sale Amount">
											</p:inputText>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col" rendered="#{fxdetailinfobean.booRenderDiffAmount}">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.differenceAmount']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="localamtdiffid" display="text" />
											    <p:inputText id="localamtdiffid" value="#{fxdetailinfobean.differenceAmount}" readonly="true"/>
											</p:panel>
										</p:panel>
										
										<div class="clearfix"></div>
			
								
										</p:panel>
										
										
										<div class="clearfix"></div>
										<p:spacer height="20px"/>
										<div class="clearfix"></div>
										
										<h3>
											<h:outputText value="#{msg['lbl.salesdetails']}" />
										</h3>
										
<p:panel styleClass="panel_border" id="saleDetailsPanel">
												
										<p:panel styleClass="left_col" id="salesBank">
										<p:panel styleClass="inner_left_col">
											<h:outputText value="#{msg['lbl.bank']}" />
											<h:outputText value="*" style="color:red;" />
										</p:panel>
										<p:panel styleClass="inner_right_col">
											<p:message for="saleBankid" display="text" id="msgsaleBankid"/>
											<p:selectOneMenu id="saleBankid" styleClass="#{fxdetailinfobean.blue?'blue':'none'}" disabled="true"
												value="#{fxdetailinfobean.saleBank}" filter="true"
												filterMatchMode="startsWith" required="true"
												requiredMessage="Please Select Bank" label="Bank">
												<f:selectItem itemLabel="#{msg['lbl.selectbank']}"
													itemValue="" />
												<f:selectItems
													value="#{fxdetailinfobean.lstAllBankApplicabity}" var="c"
													itemLabel="#{c.bankMaster.bankCode} - #{c.bankMaster.bankFullName}" itemValue="#{c.bankMaster.bankId}"/>
													<p:ajax for="saleBankid" event="change"
													listener="#{fxdetailinfobean.populateCurrencyBasedOnBankForSale}" update="salesCurrency,msgsaleBankid,accBal,Checksalpanelonselect,salePurchaseInstrunctionid,salePurchaseInstructionDescid,checkboxsaleid,avgRatePanel,salelocalid,localexchangerate,totallocalamount,greatersales,saleDetailsPanel"/>
											</p:selectOneMenu>
										</p:panel>
									</p:panel>
									
									<!-- <p:panel styleClass="left_col" id="salesCurrency">
										<p:panel styleClass="inner_left_col">
											<h:outputText value="#{msg['lbl.currency']}" />
											<h:outputText value="*" style="color:red;" />
										</p:panel>
										<p:panel styleClass="inner_right_col">
											<p:message for="saleCurrencyid" display="text" id="msgsaleCurrencyid"/>
											<p:selectOneMenu id="saleCurrencyid"
												value="#{fxdetailinfobean.saleCurrency}" filter="true"
												filterMatchMode="startsWith" required="true"
												requiredMessage="Please Select Currency" label="Currency">
												<f:selectItem itemLabel="#{msg['lbl.selectcurrency']}"
													itemValue="" />
												<f:selectItems
													value="#{fxdetailinfobean.currencyListForSale}"
													var="c" itemLabel="#{c.currencyName}"
													itemValue="#{c.currencyId}" />
													<p:ajax for="saleCurrencyid" event="change"
													listener="#{fxdetailinfobean.salesStandardInstruction}" update="msgsaleCurrencyid,accBal,Checksalpanelonselect,salePurchaseInstrunctionid,salePurchaseInstructionDescid,averagerateid,checkboxsale,checkboxsaleid"/>
											</p:selectOneMenu>
										</p:panel>
									</p:panel> -->
									
									<p:panel styleClass="left_col" id="salesCurrency">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.currency']}" />
												<h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
												<p:row>
													<p:column
														style="width:100%; text-align:left;padding:0px !important;"
														rendered="#{fxdetailinfobean.booRenderCurrencyId}">
														<p:message for="saleCurrencyid" display="text" />
											<p:selectOneMenu id="saleCurrencyid" styleClass="#{fxdetailinfobean.blue?'blue':'none'}" disabled="true"
												value="#{fxdetailinfobean.saleCurrency}" filter="true"
												filterMatchMode="startsWith" required="true"
												requiredMessage="Please Select Currency">
												<f:selectItem itemLabel="#{msg['lbl.selectcurrency']}"
													itemValue="" />
												<f:selectItems
													value="#{fxdetailinfobean.currencylistforsale}"
													var="c" itemLabel="#{c.fsCurrencyMaster.currencyName}"
													itemValue="#{c.fsCurrencyMaster.currencyId}" />
													<p:ajax for="saleCurrencyid" event="change"
													listener="#{fxdetailinfobean.salesStandardInstruction}" update="accBal,Checksalpanelonselect,salePurchaseInstrunctionid,salePurchaseInstructionDescid,saleDetailsPanel,avgRatePanel,salelocalid,localexchangerate,totallocalamount,greatersales,saleDetailsPanel"/>
											</p:selectOneMenu>
													</p:column>
													<p:column
														style="width:100%; text-align:left;padding:0px !important;"	rendered="#{fxdetailinfobean.booRenderCurrencySingle}">
														<p:inputText value="#{fxdetailinfobean.saleCurrencyName}" readonly="true">
														<p:ajax update="accBal,Checksalpanelonselect,salePurchaseInstrunctionid,salePurchaseInstructionDescid,saleDetailsPanel,avgRatePanel,salelocalid,localexchangerate,totallocalamount,greatersales,saleDetailsPanel"/>
														</p:inputText>
													</p:column>
												</p:row>
											</p:panel>
										</p:panel>
										<div class="clearfix"></div>
										
										<p:panel styleClass="left_col" id="saleAccNo">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.accountnumber']}" /><h:outputText value="*"  style="color:red;"/>
											</p:panel>
											<p:panel styleClass="inner_right_col">
						                   <p:panelGrid id="Checksalpanelonselect" style="width:100%;">   
        										<p:row>
            										<p:column style="width:100%; text-align:left;padding:0px !important;" rendered="#{fxdetailinfobean.oneAccNoSal}" >
            										<p:message for="singlaccNo" display="text"/>
            											<p:inputText id="singlaccNo" value="#{fxdetailinfobean.saleAcctNo}" readonly="true" required="true" requiredMessage="Account Number Can't be Empty">
													</p:inputText>
													</p:column>														

											<p:column style="width:100%; text-align:left;padding:0px !important;" rendered="#{fxdetailinfobean.mulAccNosal}">
											<p:message for="account2" display="text"/>
											<p:selectOneMenu id="account2"   value="#{fxdetailinfobean.saleAccountNumber}" filter="true" filterMatchMode="startsWith" required="true" requiredMessage="Please Select Account Number">
												<f:selectItem itemLabel="#{msg['lbl.selectaccountnumber']}"
													itemValue="" />
												<f:selectItems
													value="#{fxdetailinfobean.accountNumberListforSale}"
													var="c" itemLabel="#{c.bankAcctNo}"
													itemValue="#{c.fundGlno}" />
												    <p:ajax event="change" listener="#{fxdetailinfobean.populateAccountBalance}" update="accBal,avgRatePanel,salelocalid,localexchangerate,totallocalamount,greatersales"/>
											</p:selectOneMenu>
											</p:column>
					
										
									</p:row>
    									</p:panelGrid>	
										
										
										</p:panel>
										</p:panel>		
										
										<p:panel styleClass="left_col" id="accBal">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.bankBalance']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="accBalid" display="text"/>
											<p:inputText id="accBalid" value="#{fxdetailinfobean.saleBalance}" readonly="true" required="true" requiredMessage="Please Enter Sales Bank Balance" label="Sales Bank Balance">
											<p:ajax update="avgRatePanel"/>
											</p:inputText>
											</p:panel>
										</p:panel>
										<div class="clearfix"></div>
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.valuedate']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="dateofexpiry" display="text" id="msgdateofexpiry"/>
											<!-- <p:inputText value="#{fxdetailinfobean.saleValueDate}" required="true" requiredMessage="Please Enter Sales Value Date" label="Sales Value Date"/> -->
											<p:calendar id="dateofexpiry" mode="popup" label="Company ID Expiary Date" value="#{fxdetailinfobean.saleValueDate}" pattern="dd/MM/yyyy" required="true" requiredMessage="Please Enter Value Date"  mindate="#{fxdetailinfobean.effectiveMinDate}" disabled="true">
														<p:ajax event="dateSelect" listener="#{fxdetailinfobean.popValudate()}" update="msgdateofexpiry"/>
											</p:calendar>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.fxsaleAmount']}"/><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="saleAmountId" display="text"/>
											<p:inputText  id="saleAmountId" value="#{fxdetailinfobean.saleAmount}" readonly="true" required="true" requiredMessage="Please Enter Sales Amount" label="Sales Amount">
											<p:ajax event="blur" listener="#{fxdetailinfobean.checkingSalesAmountandBankBal}" update="saleAmountId"/>
											<f:validator validatorId="com.amg.exchange.validator.fx_DealRateValidator"/>
											</p:inputText>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col" id="avgRatePanel">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.averagerate']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="averagerateid" display="text" style="text-shadow:none !important;" id="msgaveragerateid"/>
											<p:inputText id="averagerateid" value="#{fxdetailinfobean.saleAvgRate}" readonly="true" required="true" requiredMessage="Please Enter Sales Average Rate" label="Sales Average Rate" >
											<p:ajax event="blur" listener="#{fxdetailinfobean.calculateSalesLocalAmount}" update="salesLocalAmountId,totallocalamount,localexchangerate,averagerateid,msgaveragerateid"/>
											<f:validator validatorId="com.amg.exchange.validator.fx_DealRateValidator"/>
											</p:inputText>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col" id="salelocalid">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.fclocalamt']}"/><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="salesLocalAmountId" display="text" style="text-shadow:none !important;"/>
											<p:inputText id="salesLocalAmountId" value="#{fxdetailinfobean.saleLocalAmount}" readonly="true" required="true" requiredMessage="Please Enter Sales Local Amount" label="Sales Local Amount">
											<!-- <p:ajax event="blur" listener="#{fxdetailinfobean.checkingSalesLocalAmountandFCLocalAmount}" update="salesLocalAmountId"/> -->
											<f:validator validatorId="com.amg.exchange.validator.fx_DealRateValidator"/>
											</p:inputText>
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col" id="salePurchaseInstrunctionid">
											<p:panel styleClass="inner_left_col">
												<h:outputText value="#{msg['lbl.bankTransferRequestInstructionNumber']}" /><h:outputText value="*" style="color:red;font-weight:bold;" />
											</p:panel>
											<p:panel styleClass="inner_right_col">
											<p:message for="saleInstrnid" display="text" id="msgsalePurchaseInstrunctionid"/>
											<p:row>
												<p:column style="width:100%; text-align:left;padding:0px !important;"  rendered="#{fxdetailinfobean.booRenderStandInsID}">
												
											    <p:selectOneMenu id="saleInstrnid" value="#{fxdetailinfobean.salePurchaseInstrunction}" filter="true"	filterMatchMode="startsWith" required="true" requiredMessage="Please Select Standard Instruction Number" label="Standard Instruction Number">
											       <f:selectItem itemLabel="#{msg['lbl.instructionNo']}" itemValue="" />
											       <f:selectItems value="#{fxdetailinfobean.pstandardInstrnforSales}" var="c" itemLabel="#{c.standardInsructionNumber} - #{c.instructionDescription}" itemValue="#{c.standardInsructionNumber}" />
											       <p:ajax for="saleInstrnid" event="change" listener="#{fxdetailinfobean.salesStandardInstrunctionDescription}" update="msgsalePurchaseInstrunctionid,salePurchaseInstructionDescid,checkboxsaleid"/>
											    </p:selectOneMenu>
											   </p:column>
											<p:column style="width:100%; text-align:left;padding:0px !important;"  rendered="#{fxdetailinfobean.booRenderStandInsIDForUpdate}">
											<p:message for="saleInstrunctionid" display="text" />
            											<p:inputText id="saleInstrunctionid" value="#{fxdetailinfobean.salePurchaseInstrunctionForUpdate}" readonly="true" />
											</p:column>
									</p:row>			
											</p:panel>
										</p:panel>
										
										<p:panel styleClass="left_col" id="salesstandarddesc">
										<p:panel styleClass="inner_left_col">
											<h:outputText value="#{msg['lbl.standardinstruction']}" />
											<h:outputText value="*" style="color:red;" />
										</p:panel>
										<p:panel styleClass="inner_right_col">
										<p:message for="salePurchaseInstructionDescid" display="text" />
											<p:inputText id="salePurchaseInstructionDescid" value="#{fxdetailinfobean.salePurchaseInstructionDesc}" readonly="true" required="true"
												requiredMessage="Please Enter Standard Instruction Description" label="Standard Instruction Description">
											</p:inputText>
										</p:panel>
									    </p:panel>
										<div class="clearfix"></div>
										
										<!-- <p:panel styleClass="left_col">
											<p:panelGrid style="width:47%;">
												<p:row>
													<p:column style="width:95%;">
														<h:outputText value="Check &amp; Verify Instruction"
															style="color:#ff5400 !important; font-size:13px !important; font-weight:bold;" />
														<p:spacer width="5px" />
													</p:column>
													<p:column style="width:5%;">
														<p:commandLink id="checkboxsale" actionListener="#{fxdetailinfobean.getDataTableForSalesDetails}" process="@this" update=":form:salesdetails,:form:checkboxsale" oncomplete="PF('salesdetails').show();" disabled="#{fxdetailinfobean.saleCommandLinkDisable}">
														<p:message for="checkboxsaleid" display="text" id="msgcheckboxsaleid"/>
														<p:selectBooleanCheckbox styleClass="checkdis"  id="checkboxsaleid" value="#{fxdetailinfobean.salesCheckbox}" disabled="#{fxdetailinfobean.saleCheckboxDisable}" required="true" requiredMessage="Please verify the Checkbox">
														<p:ajax />
														</p:selectBooleanCheckbox>
										                </p:commandLink>
													</p:column>
												</p:row>
											</p:panelGrid>
										</p:panel> -->


										<p:panel styleClass="left_col" style="padding-left:10px !important;">
										  <h:outputText value="#{msg['lbl.checkno']}" style="color:#ff5400 !important; font-size:13px !important; font-weight:bold;" /><p:spacer width="5px" />
										     <p:selectBooleanCheckbox styleClass="checkdis" id="checkboxsaleid" value="#{fxdetailinfobean.salesCheckbox}" disabled="#{fxdetailinfobean.saleCheckboxDisable}" required="true" requiredMessage="Please verify the Checkbox">
										        <p:ajax event="change" listener="#{fxdetailinfobean.getDataTableForSalesDetails}" update="salesdetails,checkboxsaleid" />
										      </p:selectBooleanCheckbox>
										</p:panel>


										<div class="clearfix"></div>
								
										</p:panel>
										
									
										<div class="clearfix"></div>
										<p:spacer height="10px"/>
										<div class="clearfix"></div>
										
										<h:panelGroup layout="block" styleClass="shadow_button" rendered="#{fxdetailinfobean.booRenderSavePanel}">
										    <p:commandButton value="#{msg['lbl.save']}" action="#{fxdetailinfobean.checkDealReuterExist}"  style="margin-right:10px;" update=":form" onclick="statusDialog.show();"  onsuccess="statusDialog.hide();" />
											<!-- <p:commandButton value="#{msg['lbl.clear']}" action="#{fxdetailinfobean.clear}" style="margin-right:10px;" process="@this" update="mainPanel">
											<p:resetInput target="@form" />
											</p:commandButton> -->
											<p:commandButton value="#{msg['lbl.exit']}" action="#{fxdetailinfobean.exitFromDealTracker}" update="mainPanel" immediate="true" process="@this" />
											<!-- <p:commandButton value="Cancel" action="#{fxdetailinfobean.callDealTracker}" update="mainPanel" immediate="true" process="@this" /> -->
										</h:panelGroup>
										
										<h:panelGroup layout="block" styleClass="shadow_button" rendered="#{fxdetailinfobean.booRenderUpdatePanel}">
											<p:commandButton  value="#{msg['lbl.update']}" style="margin-right:10px;" action="#{fxdetailinfobean.checkingCheckBoxVerification}" update="complete" process="@this"/>
											<p:commandButton value="#{msg['lbl.cancel']}" actionListener="#{fxdetailinfobean.clearCache}" process="@this" update="mainPanel" immediate="true"/>
										</h:panelGroup>
										
											<div class="clearfix"></div>
										</p:panel>
										
										<p:panel id="successid" rendered="#{fxdetailinfobean.successRender}" style="padding:20px 100px 60px 100px !important;">
											<fieldset
												style="border: 1.5px solid #64b381 !important; padding: 20px 10px !important; -webkit-border-radius: 0 4px 4px 4px !important; border-radius: 0 4px 4px 4px !important;">
												<legend
													style="font-size: 18px; font-weight: bold; color: #037712;"
													align="top">&nbsp;#{msg['lbl.success']}&nbsp;</legend>
												<p:outputLabel value="#{msg['lbl.dtsavewthrefno']} #{fxdetailinfobean.docSerialIdNumberForSave}" style="font-size: 20px !important; font-weight: bold; color: #037712; padding:20px 90px 30px 150px  !important;" />
												
												<p:outputLabel value="Do you Want Deal Ticket Report ?" style=" font-weight: bold; color: #037712; padding:10px 0px 0px 0px !important;">
													<h:commandLink value="#{msg['lbl.clickHere']} "
														actionListener="#{fxdetailinfobean.generateDealTicketReport}"
														style="font-weight: bold; font-size:16px !important; color:blue !important; text-decoration:underline !important;"
														process="@this" immediate="true" />
												</p:outputLabel>
											<!-- 	<p:spacer height="20px"/>
												<p:outputLabel
													value="Do you Want Deal Ticket Fax Print Report ?"
													style=" font-weight: bold; color: #037712; padding:10px 0px 0px 0px !important;">
													<h:commandLink value="#{msg['lbl.clickHere']} "
														actionListener="#{fxdetailinfobean.generateDealTicketFaxReport}"
														style="font-weight: bold; font-size:16px !important; color:blue !important; text-decoration:underline !important;"
														process="@this" immediate="true" />
												</p:outputLabel> -->
												
												<p:spacer height="15px"/>
												<p:outputLabel
													value="#{msg['lbl.douwantPaymentReport']} "
													style=" font-weight: bold; color: #037712; padding:10px 0px 0px 0px !important;">
													<h:commandLink value="#{msg['lbl.clickHere']} "
														actionListener="#{fxdetailinfobean.generateDealPaymentReport}"
														style="font-weight: bold; font-size:16px !important; color:blue !important; text-decoration:underline !important;"
														process="@this" immediate="true" />
												</p:outputLabel>
												
												<!-- <p:spacer height="20px"/>
												<p:outputLabel
													value="For Confirmation?"
													style=" font-weight: bold; color: #037712; padding:10px 0px 0px 0px !important;">
													<h:commandLink value="#{msg['lbl.clickHere']} "
														actionListener="#{fxdetailinfobean.generateConfirmationReport}"
														style="font-weight: bold; font-size:16px !important; color:blue !important; text-decoration:underline !important;"
														process="@this" immediate="true" />
												</p:outputLabel> -->
												
												<h:panelGroup layout="block" styleClass="shadow_button">
													<p:commandButton value="#{msg['lbl.ok']}" action="#{dealTrackerInfoBean.exitFromDealTracker}" immediate="true" process="@this" />
												</h:panelGroup>												
											</fieldset>
										</p:panel>
									
								</h:panelGroup>
								<h:panelGroup layout="block" class="clearfix"></h:panelGroup>
							</h:panelGroup></td>
					</tr>
				</table>
				<ui:include src="#{facesBean.footerwithoutRuleEngine}"></ui:include>
			</h:form>	
		<div class="clearfix"></div>
		
	</f:view>
</h:body>
</html>