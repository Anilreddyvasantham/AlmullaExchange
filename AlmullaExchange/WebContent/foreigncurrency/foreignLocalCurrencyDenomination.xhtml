<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
</h:head>

<h:body>
	<f:view>
		<ui:include src="#{facesBean.header}"></ui:include>
		<ui:include src="#{facesBean.menu}"></ui:include>
		<table align="left" width="100%" style="height: 100%;">
			<tr>
				<td align="left" valign="top" style="height: 100%;">
				<!-- <ui:include src="../common/common_menu.xhtml"></ui:include> -->
				<ui:include src="#{facesBean.fxdeal_menu}"></ui:include>
				</td>

				<td class="rightColumn" valign="top">
					<h:panelGroup layout="block" class="container">
						<h:panelGroup layout="block" class="main_div">
							<div class="menu_button">
								<img style="cursor: pointer; position: relative; left: 15px;"
									id="HideHandle" name="HideHandle"
									src="../images/toggle_plus.png" alt=""
									onclick='hideLeftCol("leftCol");closeMenus();' />
							</div>
							<h1>
								<h:outputText value="#{msg['lbl.fclocalpurchase']}" />
							</h1>
							
							<h:form id="form1">
								<p:panel id="panelDatatable" styleClass="shadow" style="padding:10px !important; background-color:#FFF !important;">
	                					<p:dataTable id="datatable" value="#{fcLocalCurrencyDenominationBean.lstData}" var="o"  widgetVar="50"  editable="true" editMode="cell">
	    					
				                    	<p:column  style="width:12% !important;" headerText="#{msg['lbl.fclocalpurchaseserialno']}">
				                               	<h:outputText value="#{o.serial}." />  
				                   		 </p:column>
										
										<p:column  style="width:22% !important;" headerText="#{msg['lbl.fclocalpurchasedenominationname']}">
				                               	<h:outputText value="#{o.item}" />  
				                   		 </p:column>
				 
										<p:column  style="width:22% !important;" headerText="#{msg['lbl.fclocalpurchasecurrentstock']}">
					                            <h:outputText value="#{o.stock}" />  
					                    </p:column>
				                    	
					                    <p:column  style="width:22% !important;"  headerText="#{msg['lbl.fclocalpurchasenoofnotes']}">
					                        <p:cellEditor>  
					                            <f:facet name="output">  
					                                <h:outputText value="#{o.qty}" />  
					                            </f:facet>  
					                            <f:facet name="input">
					                            	<p:inputText  id="q" value="#{o.qty}">
					                            		<p:ajax event="blur" listener="#{fcLocalCurrencyDenominationBean.oncellEdit(o)}" update=":form1:total, datatable"/>
					                            		<f:validator validatorId="com.amg.exchange.validator.FcQValidator"/>
					                            		<p:message for="q" display="text" style="text-shadow:none !important;"/>
					                            	</p:inputText>  
					                            </f:facet>  
					                        </p:cellEditor>
					                    </p:column>
				 
					                    <p:column  style="width:22% !important;" headerText="#{msg['lbl.fclocalpurchasecashamount']}">
					                            <h:outputText value="#{o.price}" />  
					                    </p:column>
					                    
				                </p:dataTable>
				                
								<div class="clearfix"></div>  
								<p:spacer height="10px"/>  
								<div class="clearfix"></div>            
				                <p:panelGrid style="width:100%;">
    			<p:row>
    <p:column style="width:25%; text-align:right;">
            <h:outputText style="font-weight:bold;" value="#{msg['lbl.fclocalpurchasetotalsalecurrencyvalue']}"></h:outputText>
        </p:column>
         <p:column style="width:25%;">
           <p:inputText id="totalSale" value="#{fcLocalCurrencyDenominationBean.totalSale}"/>
        </p:column>
         <p:column style="width:25%; text-align:right;">
             <h:outputText style="font-weight:bold;" value="#{msg['lbl.fclocalpurchasetotallocalcashentered']}"></h:outputText>
        </p:column>
       <p:column style="width:25%;">
            <p:inputText id="total" value="#{fcLocalCurrencyDenominationBean.totalValue}" style="font-weight:bold;"/>
        </p:column>
    </p:row>
</p:panelGrid>
<div class="clearfix"></div>			                
			                	
			      			</p:panel>          
			               <h:panelGroup layout="block" styleClass="shadow_button"	>
			               <p:commandButton value="#{msg['lbl.fclocalpurchasetotalsavecash']}" style="margin-right:10px;"/>
							 	<p:commandButton value="#{msg['lbl.fclocalpurchasetotalexit']}" style="margin-right:10px;"/>
								<p:commandButton value="#{msg['lbl.fclocalpurchasetotalcancel']}"/>
								
								<div class="clearfix"></div>
						   </h:panelGroup>
        				</h:form>

						</h:panelGroup>
						<h:panelGroup layout="block" class="clearfix"></h:panelGroup>
					</h:panelGroup></td>
			</tr>
		</table>
		<div class="clearfix"></div>
		<ui:include src="#{facesBean.footerwithoutRuleEngine}"></ui:include>
	</f:view>

	</h:body>
</html>